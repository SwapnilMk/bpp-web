import{b as t,j as e,ep as S,eq as k,er as b,es as A,dC as R}from"./react-vendor-DHXlblm3.js";import{x as C,aA as _,B as f,aB as P,aC as a,aD as D}from"./index-2NBrDHfX.js";import{a4 as n,ai as p}from"./vendor-bQrEs1q3.js";import{C as L}from"./content-section-CZ_oIF6x.js";import"./tanstack-vendor-CGADoYpr.js";const O=()=>{const l=C(),[i,c]=t.useState([]),[j,o]=t.useState(!1),[d,x]=t.useState(null),[u,m]=t.useState(!1),h=localStorage.getItem("sessionId"),r=t.useCallback(async()=>{try{o(!0);const s=await l(_()).unwrap();c(s.data||[])}catch{n.error("Failed to load sessions"),c([])}finally{o(!1)}},[l]);t.useEffect(()=>{r()},[r]);const v=async s=>{try{x(s),await l(D(s)).unwrap(),n.success("Session revoked successfully"),await r()}catch{n.error("Failed to revoke session")}finally{x(null)}},g=async()=>{try{m(!0),await l(P()).unwrap(),n.success("All other sessions revoked successfully"),await r()}catch{n.error("Failed to revoke all other sessions")}finally{m(!1)}},w=s=>{switch(s.toLowerCase()){case"mobile":return e.jsx(A,{className:"h-5 w-5"});case"tablet":return e.jsx(b,{className:"h-5 w-5"});case"desktop":return e.jsx(k,{className:"h-5 w-5"});default:return e.jsx(S,{className:"h-5 w-5"})}},y=s=>{switch(s){case"online":return e.jsx("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Online"});case"offline":return e.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800",children:"Offline"});case"away":return e.jsx("span",{className:"inline-flex items-center rounded-full bg-yellow-100 px-2.5 py-0.5 text-xs font-medium text-yellow-800",children:"Away"});default:return null}},N=()=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(a,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{className:"h-4 w-48"}),e.jsx(a,{className:"h-3 w-32"}),e.jsx(a,{className:"h-3 w-40"}),e.jsx(a,{className:"h-3 w-24"})]})]}),e.jsx(a,{className:"h-9 w-20"})]});return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Sessions"}),e.jsx(f,{variant:"outline",onClick:g,disabled:u||i.length<=1,children:u?"Revoking...":"Revoke All Other Sessions"})]}),j?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx(N,{},s))}):i.length===0?e.jsx("p",{className:"text-center text-muted-foreground",children:"No sessions found"}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted",children:w(s.deviceType)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"font-medium",children:[s.deviceType," - ",s.location,s._id===h&&" (Current)"]}),y(s.status)]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last active: ",p(new Date(s.lastActiveAt),"PPp")]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires: ",p(new Date(s.expiresAt),"PPp")]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["IP: ",s.ipAddress]})]})]}),e.jsx(f,{variant:"outline",size:"sm",onClick:()=>v(s._id),disabled:d===s._id||s._id===h,children:d===s._id?"Revoking...":"Revoke"})]},s._id))})]})},B=()=>e.jsx(L,{title:"Sessions",desc:"Manage your active sessions across different devices",children:e.jsx(O,{})}),q=R("/dashboard/settings/sessions")({component:B});export{q as Route};
