var zn=e=>{throw TypeError(e)};var Kt=(e,n,t)=>n.has(e)||zn("Cannot "+t);var g=(e,n,t)=>(Kt(e,n,"read from private field"),t?t.call(e):n.get(e)),L=(e,n,t)=>n.has(e)?zn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),_=(e,n,t,s)=>(Kt(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t),O=(e,n,t)=>(Kt(e,n,"access private method"),t);var $t=(e,n,t,s)=>({set _(i){_(e,n,i,t)},get _(){return g(e,n,s)}});import{i as Vt}from"./vendor-bQrEs1q3.js";var Et=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ht=typeof window>"u"||"Deno"in globalThis;function ie(){}function Qs(e,n){return typeof e=="function"?e(n):e}function cn(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ss(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Te(e,n){return typeof e=="function"?e(n):e}function ue(e,n){return typeof e=="function"?e(n):e}function Un(e,n){const{type:t="all",exact:s,fetchStatus:i,predicate:o,queryKey:r,stale:a}=e;if(r){if(s){if(n.queryHash!==Vn(r,n.options))return!1}else if(!Pt(n.queryKey,r))return!1}if(t!=="all"){const l=n.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&n.isStale()!==a||i&&i!==n.state.fetchStatus||o&&!o(n))}function jn(e,n){const{exact:t,status:s,predicate:i,mutationKey:o}=e;if(o){if(!n.options.mutationKey)return!1;if(t){if(_t(n.options.mutationKey)!==_t(o))return!1}else if(!Pt(n.options.mutationKey,o))return!1}return!(s&&n.state.status!==s||i&&!i(n))}function Vn(e,n){return((n==null?void 0:n.queryKeyHashFn)||_t)(e)}function _t(e){return JSON.stringify(e,(n,t)=>hn(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function Pt(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(t=>Pt(e[t],n[t])):!1}function ys(e,n){if(e===n)return e;const t=qn(e)&&qn(n);if(t||hn(e)&&hn(n)){const s=t?e:Object.keys(e),i=s.length,o=t?n:Object.keys(n),r=o.length,a=t?[]:{};let l=0;for(let c=0;c<r;c++){const u=t?c:o[c];(!t&&s.includes(u)||t)&&e[u]===void 0&&n[u]===void 0?(a[u]=void 0,l++):(a[u]=ys(e[u],n[u]),a[u]===e[u]&&e[u]!==void 0&&l++)}return i===r&&l===i?e:a}return n}function dn(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function qn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hn(e){if(!Nn(e))return!1;const n=e.constructor;if(n===void 0)return!0;const t=n.prototype;return!(!Nn(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Nn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ks(e){return new Promise(n=>{setTimeout(n,e)})}function fn(e,n,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?ys(e,n):n}function Ws(e,n,t=0){const s=[...e,n];return t&&s.length>t?s.slice(1):s}function Xs(e,n,t=0){const s=[n,...e];return t&&s.length>t?s.slice(0,-1):s}var bn=Symbol();function ws(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===bn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Eo(e,n){return typeof e=="function"?e(...n):!!e}var Ge,Ie,Ze,us,Js=(us=class extends Et{constructor(){super();L(this,Ge);L(this,Ie);L(this,Ze);_(this,Ze,n=>{if(!ht&&window.addEventListener){const t=()=>n();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){g(this,Ie)||this.setEventListener(g(this,Ze))}onUnsubscribe(){var n;this.hasListeners()||((n=g(this,Ie))==null||n.call(this),_(this,Ie,void 0))}setEventListener(n){var t;_(this,Ze,n),(t=g(this,Ie))==null||t.call(this),_(this,Ie,n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(n){g(this,Ge)!==n&&(_(this,Ge,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(t=>{t(n)})}isFocused(){var n;return typeof g(this,Ge)=="boolean"?g(this,Ge):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},Ge=new WeakMap,Ie=new WeakMap,Ze=new WeakMap,us),Dn=new Js,et,Le,tt,cs,Ys=(cs=class extends Et{constructor(){super();L(this,et,!0);L(this,Le);L(this,tt);_(this,tt,n=>{if(!ht&&window.addEventListener){const t=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){g(this,Le)||this.setEventListener(g(this,tt))}onUnsubscribe(){var n;this.hasListeners()||((n=g(this,Le))==null||n.call(this),_(this,Le,void 0))}setEventListener(n){var t;_(this,tt,n),(t=g(this,Le))==null||t.call(this),_(this,Le,n(this.setOnline.bind(this)))}setOnline(n){g(this,et)!==n&&(_(this,et,n),this.listeners.forEach(s=>{s(n)}))}isOnline(){return g(this,et)}},et=new WeakMap,Le=new WeakMap,tt=new WeakMap,cs),Bt=new Ys;function gn(){let e,n;const t=new Promise((i,o)=>{e=i,n=o});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},t.reject=i=>{s({status:"rejected",reason:i}),n(i)},t}function Zs(e){return Math.min(1e3*2**e,3e4)}function Rs(e){return(e??"online")==="online"?Bt.isOnline():!0}var Cs=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wt(e){return e instanceof Cs}function _s(e){let n=!1,t=0,s=!1,i;const o=gn(),r=m=>{var v;s||(f(new Cs(m)),(v=e.abort)==null||v.call(e))},a=()=>{n=!0},l=()=>{n=!1},c=()=>Dn.isFocused()&&(e.networkMode==="always"||Bt.isOnline())&&e.canRun(),u=()=>Rs(e.networkMode)&&e.canRun(),d=m=>{var v;s||(s=!0,(v=e.onSuccess)==null||v.call(e,m),i==null||i(),o.resolve(m))},f=m=>{var v;s||(s=!0,(v=e.onError)==null||v.call(e,m),i==null||i(),o.reject(m))},h=()=>new Promise(m=>{var v;i=S=>{(s||c())&&m(S)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;i=void 0,s||(m=e.onContinue)==null||m.call(e)}),p=()=>{if(s)return;let m;const v=t===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(S){m=Promise.reject(S)}Promise.resolve(m).then(d).catch(S=>{var R;if(s)return;const C=e.retry??(ht?0:3),w=e.retryDelay??Zs,V=typeof w=="function"?w(t,S):w,$=C===!0||typeof C=="number"&&t<C||typeof C=="function"&&C(t,S);if(n||!$){f(S);return}t++,(R=e.onFail)==null||R.call(e,t,S),Ks(V).then(()=>c()?void 0:h()).then(()=>{n?f(S):p()})})};return{promise:o,cancel:r,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var ei=e=>setTimeout(e,0);function ti(){let e=[],n=0,t=a=>{a()},s=a=>{a()},i=ei;const o=a=>{n?e.push(a):i(()=>{t(a)})},r=()=>{const a=e;e=[],a.length&&i(()=>{s(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;n++;try{l=a()}finally{n--,n||r()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{i=a}}}var X=ti(),Be,ds,Ps=(ds=class{constructor(){L(this,Be)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cn(this.gcTime)&&_(this,Be,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ht?1/0:5*60*1e3))}clearGcTimeout(){g(this,Be)&&(clearTimeout(g(this,Be)),_(this,Be,void 0))}},Be=new WeakMap,ds),nt,st,se,ze,W,Mt,Ue,ae,we,hs,ni=(hs=class extends Ps{constructor(n){super();L(this,ae);L(this,nt);L(this,st);L(this,se);L(this,ze);L(this,W);L(this,Mt);L(this,Ue);_(this,Ue,!1),_(this,Mt,n.defaultOptions),this.setOptions(n.options),this.observers=[],_(this,ze,n.client),_(this,se,g(this,ze).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,_(this,nt,si(this.options)),this.state=n.state??g(this,nt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=g(this,W))==null?void 0:n.promise}setOptions(n){this.options={...g(this,Mt),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,se).remove(this)}setData(n,t){const s=fn(this.state.data,n,this.options);return O(this,ae,we).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(n,t){O(this,ae,we).call(this,{type:"setState",state:n,setStateOptions:t})}cancel(n){var s,i;const t=(s=g(this,W))==null?void 0:s.promise;return(i=g(this,W))==null||i.cancel(n),t?t.then(ie).catch(ie):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,nt))}isActive(){return this.observers.some(n=>ue(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Te(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Ss(this.state.dataUpdatedAt,n)}onFocus(){var t;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(t=g(this,W))==null||t.continue()}onOnline(){var t;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(t=g(this,W))==null||t.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),g(this,se).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(t=>t!==n),this.observers.length||(g(this,W)&&(g(this,Ue)?g(this,W).cancel({revert:!0}):g(this,W).cancelRetry()),this.scheduleGc()),g(this,se).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||O(this,ae,we).call(this,{type:"invalidate"})}fetch(n,t){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(g(this,W))return g(this,W).continueRetry(),g(this,W).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(_(this,Ue,!0),s.signal)})},o=()=>{const d=ws(this.options,t),f={client:g(this,ze),queryKey:this.queryKey,meta:this.meta};return i(f),_(this,Ue,!1),this.options.persister?this.options.persister(d,f,this):d(f)},r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:g(this,ze),state:this.state,fetchFn:o};i(r),(l=this.options.behavior)==null||l.onFetch(r,this),_(this,st,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=r.fetchOptions)==null?void 0:c.meta))&&O(this,ae,we).call(this,{type:"fetch",meta:(u=r.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,p,m;Wt(d)&&d.silent||O(this,ae,we).call(this,{type:"error",error:d}),Wt(d)||((h=(f=g(this,se).config).onError)==null||h.call(f,d,this),(m=(p=g(this,se).config).onSettled)==null||m.call(p,this.state.data,d,this)),this.scheduleGc()};return _(this,W,_s({initialPromise:t==null?void 0:t.initialPromise,fn:r.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var f,h,p,m;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){a(v);return}(h=(f=g(this,se).config).onSuccess)==null||h.call(f,d,this),(m=(p=g(this,se).config).onSettled)==null||m.call(p,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{O(this,ae,we).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{O(this,ae,we).call(this,{type:"pause"})},onContinue:()=>{O(this,ae,we).call(this,{type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0})),g(this,W).start()}},nt=new WeakMap,st=new WeakMap,se=new WeakMap,ze=new WeakMap,W=new WeakMap,Mt=new WeakMap,Ue=new WeakMap,ae=new WeakSet,we=function(n){const t=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Fs(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Wt(i)&&i.revert&&g(this,st)?{...g(this,st),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=t(this.state),X.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),g(this,se).notify({query:this,type:"updated",action:n})})},hs);function Fs(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rs(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function si(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=n!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var me,fs,ii=(fs=class extends Et{constructor(n={}){super();L(this,me);this.config=n,_(this,me,new Map)}build(n,t,s){const i=t.queryKey,o=t.queryHash??Vn(i,t);let r=this.get(o);return r||(r=new ni({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(t),state:s,defaultOptions:n.getQueryDefaults(i)}),this.add(r)),r}add(n){g(this,me).has(n.queryHash)||(g(this,me).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const t=g(this,me).get(n.queryHash);t&&(n.destroy(),t===n&&g(this,me).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){X.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return g(this,me).get(n)}getAll(){return[...g(this,me).values()]}find(n){const t={exact:!0,...n};return this.getAll().find(s=>Un(t,s))}findAll(n={}){const t=this.getAll();return Object.keys(n).length>0?t.filter(s=>Un(n,s)):t}notify(n){X.batch(()=>{this.listeners.forEach(t=>{t(n)})})}onFocus(){X.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){X.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},me=new WeakMap,fs),ve,J,je,Se,xe,gs,oi=(gs=class extends Ps{constructor(n){super();L(this,Se);L(this,ve);L(this,J);L(this,je);this.mutationId=n.mutationId,_(this,J,n.mutationCache),_(this,ve,[]),this.state=n.state||ri(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){g(this,ve).includes(n)||(g(this,ve).push(n),this.clearGcTimeout(),g(this,J).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){_(this,ve,g(this,ve).filter(t=>t!==n)),this.scheduleGc(),g(this,J).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){g(this,ve).length||(this.state.status==="pending"?this.scheduleGc():g(this,J).remove(this))}continue(){var n;return((n=g(this,je))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,r,a,l,c,u,d,f,h,p,m,v,S,C,w,V,$,R,D,b;const t=()=>{O(this,Se,xe).call(this,{type:"continue"})};_(this,je,_s({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(y,M)=>{O(this,Se,xe).call(this,{type:"failed",failureCount:y,error:M})},onPause:()=>{O(this,Se,xe).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,J).canRun(this)}));const s=this.state.status==="pending",i=!g(this,je).canStart();try{if(s)t();else{O(this,Se,xe).call(this,{type:"pending",variables:n,isPaused:i}),await((r=(o=g(this,J).config).onMutate)==null?void 0:r.call(o,n,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));M!==this.state.context&&O(this,Se,xe).call(this,{type:"pending",context:M,variables:n,isPaused:i})}const y=await g(this,je).start();return await((u=(c=g(this,J).config).onSuccess)==null?void 0:u.call(c,y,n,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,y,n,this.state.context)),await((p=(h=g(this,J).config).onSettled)==null?void 0:p.call(h,y,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,y,null,n,this.state.context)),O(this,Se,xe).call(this,{type:"success",data:y}),y}catch(y){try{throw await((C=(S=g(this,J).config).onError)==null?void 0:C.call(S,y,n,this.state.context,this)),await((V=(w=this.options).onError)==null?void 0:V.call(w,y,n,this.state.context)),await((R=($=g(this,J).config).onSettled)==null?void 0:R.call($,void 0,y,this.state.variables,this.state.context,this)),await((b=(D=this.options).onSettled)==null?void 0:b.call(D,void 0,y,n,this.state.context)),y}finally{O(this,Se,xe).call(this,{type:"error",error:y})}}finally{g(this,J).runNext(this)}}},ve=new WeakMap,J=new WeakMap,je=new WeakMap,Se=new WeakSet,xe=function(n){const t=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=t(this.state),X.batch(()=>{g(this,ve).forEach(s=>{s.onMutationUpdate(n)}),g(this,J).notify({mutation:this,type:"updated",action:n})})},gs);function ri(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _e,le,xt,ps,ai=(ps=class extends Et{constructor(n={}){super();L(this,_e);L(this,le);L(this,xt);this.config=n,_(this,_e,new Set),_(this,le,new Map),_(this,xt,0)}build(n,t,s){const i=new oi({mutationCache:this,mutationId:++$t(this,xt)._,options:n.defaultMutationOptions(t),state:s});return this.add(i),i}add(n){g(this,_e).add(n);const t=bt(n);if(typeof t=="string"){const s=g(this,le).get(t);s?s.push(n):g(this,le).set(t,[n])}this.notify({type:"added",mutation:n})}remove(n){if(g(this,_e).delete(n)){const t=bt(n);if(typeof t=="string"){const s=g(this,le).get(t);if(s)if(s.length>1){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}else s[0]===n&&g(this,le).delete(t)}}this.notify({type:"removed",mutation:n})}canRun(n){const t=bt(n);if(typeof t=="string"){const s=g(this,le).get(t),i=s==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){var s;const t=bt(n);if(typeof t=="string"){const i=(s=g(this,le).get(t))==null?void 0:s.find(o=>o!==n&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){X.batch(()=>{g(this,_e).forEach(n=>{this.notify({type:"removed",mutation:n})}),g(this,_e).clear(),g(this,le).clear()})}getAll(){return Array.from(g(this,_e))}find(n){const t={exact:!0,...n};return this.getAll().find(s=>jn(t,s))}findAll(n={}){return this.getAll().filter(t=>jn(n,t))}notify(n){X.batch(()=>{this.listeners.forEach(t=>{t(n)})})}resumePausedMutations(){const n=this.getAll().filter(t=>t.state.isPaused);return X.batch(()=>Promise.all(n.map(t=>t.continue().catch(ie))))}},_e=new WeakMap,le=new WeakMap,xt=new WeakMap,ps);function bt(e){var n;return(n=e.options.scope)==null?void 0:n.id}function Qn(e){return{onFetch:(n,t)=>{var u,d,f,h,p;const s=n.options,i=(f=(d=(u=n.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((h=n.state.data)==null?void 0:h.pages)||[],r=((p=n.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(n.signal.aborted?m=!0:n.signal.addEventListener("abort",()=>{m=!0}),n.signal)})},S=ws(n.options,n.fetchOptions),C=async(w,V,$)=>{if(m)return Promise.reject();if(V==null&&w.pages.length)return Promise.resolve(w);const R={client:n.client,queryKey:n.queryKey,pageParam:V,direction:$?"backward":"forward",meta:n.options.meta};v(R);const D=await S(R),{maxPages:b}=n.options,y=$?Xs:Ws;return{pages:y(w.pages,D,b),pageParams:y(w.pageParams,V,b)}};if(i&&o.length){const w=i==="backward",V=w?li:Kn,$={pages:o,pageParams:r},R=V(s,$);a=await C($,R,w)}else{const w=e??o.length;do{const V=l===0?r[0]??s.initialPageParam:Kn(s,a);if(l>0&&V==null)break;a=await C(a,V),l++}while(l<w)}return a};n.options.persister?n.fetchFn=()=>{var m,v;return(v=(m=n.options).persister)==null?void 0:v.call(m,c,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},t)}:n.fetchFn=c}}}function Kn(e,{pages:n,pageParams:t}){const s=n.length-1;return n.length>0?e.getNextPageParam(n[s],n,t[s],t):void 0}function li(e,{pages:n,pageParams:t}){var s;return n.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,n[0],n,t[0],t):void 0}var z,Ee,$e,it,ot,Ve,rt,at,ms,$o=(ms=class{constructor(e={}){L(this,z);L(this,Ee);L(this,$e);L(this,it);L(this,ot);L(this,Ve);L(this,rt);L(this,at);_(this,z,e.queryCache||new ii),_(this,Ee,e.mutationCache||new ai),_(this,$e,e.defaultOptions||{}),_(this,it,new Map),_(this,ot,new Map),_(this,Ve,0)}mount(){$t(this,Ve)._++,g(this,Ve)===1&&(_(this,rt,Dn.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,z).onFocus())})),_(this,at,Bt.subscribe(async e=>{e&&(await this.resumePausedMutations(),g(this,z).onOnline())})))}unmount(){var e,n;$t(this,Ve)._--,g(this,Ve)===0&&((e=g(this,rt))==null||e.call(this),_(this,rt,void 0),(n=g(this,at))==null||n.call(this),_(this,at,void 0))}isFetching(e){return g(this,z).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return g(this,Ee).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=g(this,z).get(n.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),t=g(this,z).build(this,n),s=t.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(Te(n.staleTime,t))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return g(this,z).findAll(e).map(({queryKey:n,state:t})=>{const s=t.data;return[n,s]})}setQueryData(e,n,t){const s=this.defaultQueryOptions({queryKey:e}),i=g(this,z).get(s.queryHash),o=i==null?void 0:i.state.data,r=Qs(n,o);if(r!==void 0)return g(this,z).build(this,s).setData(r,{...t,manual:!0})}setQueriesData(e,n,t){return X.batch(()=>g(this,z).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,t)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=g(this,z).get(n.queryHash))==null?void 0:t.state}removeQueries(e){const n=g(this,z);X.batch(()=>{n.findAll(e).forEach(t=>{n.remove(t)})})}resetQueries(e,n){const t=g(this,z);return X.batch(()=>(t.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const t={revert:!0,...n},s=X.batch(()=>g(this,z).findAll(e).map(i=>i.cancel(t)));return Promise.all(s).then(ie).catch(ie)}invalidateQueries(e,n={}){return X.batch(()=>(g(this,z).findAll(e).forEach(t=>{t.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const t={...n,cancelRefetch:n.cancelRefetch??!0},s=X.batch(()=>g(this,z).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,t);return t.throwOnError||(o=o.catch(ie)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ie)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const t=g(this,z).build(this,n);return t.isStaleByTime(Te(n.staleTime,t))?t.fetch(n):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ie).catch(ie)}fetchInfiniteQuery(e){return e.behavior=Qn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ie).catch(ie)}ensureInfiniteQueryData(e){return e.behavior=Qn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bt.isOnline()?g(this,Ee).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,z)}getMutationCache(){return g(this,Ee)}getDefaultOptions(){return g(this,$e)}setDefaultOptions(e){_(this,$e,e)}setQueryDefaults(e,n){g(this,it).set(_t(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...g(this,it).values()],t={};return n.forEach(s=>{Pt(e,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(e,n){g(this,ot).set(_t(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...g(this,ot).values()],t={};return n.forEach(s=>{Pt(e,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const n={...g(this,$e).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Vn(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===bn&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...g(this,$e).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){g(this,z).clear(),g(this,Ee).clear()}},z=new WeakMap,Ee=new WeakMap,$e=new WeakMap,it=new WeakMap,ot=new WeakMap,Ve=new WeakMap,rt=new WeakMap,at=new WeakMap,ms),Z,A,It,Y,qe,lt,be,De,Lt,ut,ct,Ne,Qe,Oe,dt,T,mt,pn,mn,vn,Sn,yn,wn,Rn,Ms,vs,Vo=(vs=class extends Et{constructor(n,t){super();L(this,T);L(this,Z);L(this,A);L(this,It);L(this,Y);L(this,qe);L(this,lt);L(this,be);L(this,De);L(this,Lt);L(this,ut);L(this,ct);L(this,Ne);L(this,Qe);L(this,Oe);L(this,dt,new Set);this.options=t,_(this,Z,n),_(this,De,null),_(this,be,gn()),this.options.experimental_prefetchInRender||g(this,be).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,A).addObserver(this),Wn(g(this,A),this.options)?O(this,T,mt).call(this):this.updateResult(),O(this,T,Sn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cn(g(this,A),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cn(g(this,A),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,O(this,T,yn).call(this),O(this,T,wn).call(this),g(this,A).removeObserver(this)}setOptions(n){const t=this.options,s=g(this,A);if(this.options=g(this,Z).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ue(this.options.enabled,g(this,A))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");O(this,T,Rn).call(this),g(this,A).setOptions(this.options),t._defaulted&&!dn(this.options,t)&&g(this,Z).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,A),observer:this});const i=this.hasListeners();i&&Xn(g(this,A),s,this.options,t)&&O(this,T,mt).call(this),this.updateResult(),i&&(g(this,A)!==s||ue(this.options.enabled,g(this,A))!==ue(t.enabled,g(this,A))||Te(this.options.staleTime,g(this,A))!==Te(t.staleTime,g(this,A)))&&O(this,T,pn).call(this);const o=O(this,T,mn).call(this);i&&(g(this,A)!==s||ue(this.options.enabled,g(this,A))!==ue(t.enabled,g(this,A))||o!==g(this,Oe))&&O(this,T,vn).call(this,o)}getOptimisticResult(n){const t=g(this,Z).getQueryCache().build(g(this,Z),n),s=this.createResult(t,n);return ci(this,s)&&(_(this,Y,s),_(this,lt,this.options),_(this,qe,g(this,A).state)),s}getCurrentResult(){return g(this,Y)}trackResult(n,t){return new Proxy(n,{get:(s,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(s,i))})}trackProp(n){g(this,dt).add(n)}getCurrentQuery(){return g(this,A)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const t=g(this,Z).defaultQueryOptions(n),s=g(this,Z).getQueryCache().build(g(this,Z),t);return s.fetch().then(()=>this.createResult(s,t))}fetch(n){return O(this,T,mt).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,Y)))}createResult(n,t){var y;const s=g(this,A),i=this.options,o=g(this,Y),r=g(this,qe),a=g(this,lt),c=n!==s?n.state:g(this,It),{state:u}=n;let d={...u},f=!1,h;if(t._optimisticResults){const M=this.hasListeners(),E=!M&&Wn(n,t),P=M&&Xn(n,s,t,i);(E||P)&&(d={...d,...Fs(u.data,n.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=d;h=d.data;let S=!1;if(t.placeholderData!==void 0&&h===void 0&&v==="pending"){let M;o!=null&&o.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData)?(M=o.data,S=!0):M=typeof t.placeholderData=="function"?t.placeholderData((y=g(this,ct))==null?void 0:y.state.data,g(this,ct)):t.placeholderData,M!==void 0&&(v="success",h=fn(o==null?void 0:o.data,M,t),f=!0)}if(t.select&&h!==void 0&&!S)if(o&&h===(r==null?void 0:r.data)&&t.select===g(this,Lt))h=g(this,ut);else try{_(this,Lt,t.select),h=t.select(h),h=fn(o==null?void 0:o.data,h,t),_(this,ut,h),_(this,De,null)}catch(M){_(this,De,M)}g(this,De)&&(p=g(this,De),h=g(this,ut),m=Date.now(),v="error");const C=d.fetchStatus==="fetching",w=v==="pending",V=v==="error",$=w&&C,R=h!==void 0,b={status:v,fetchStatus:d.fetchStatus,isPending:w,isSuccess:v==="success",isError:V,isInitialLoading:$,isLoading:$,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:C,isRefetching:C&&!w,isLoadingError:V&&!R,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:V&&R,isStale:On(n,t),refetch:this.refetch,promise:g(this,be)};if(this.options.experimental_prefetchInRender){const M=F=>{b.status==="error"?F.reject(b.error):b.data!==void 0&&F.resolve(b.data)},E=()=>{const F=_(this,be,b.promise=gn());M(F)},P=g(this,be);switch(P.status){case"pending":n.queryHash===s.queryHash&&M(P);break;case"fulfilled":(b.status==="error"||b.data!==P.value)&&E();break;case"rejected":(b.status!=="error"||b.error!==P.reason)&&E();break}}return b}updateResult(){const n=g(this,Y),t=this.createResult(g(this,A),this.options);if(_(this,qe,g(this,A).state),_(this,lt,this.options),g(this,qe).data!==void 0&&_(this,ct,g(this,A)),dn(t,n))return;_(this,Y,t);const s=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!g(this,dt).size)return!0;const r=new Set(o??g(this,dt));return this.options.throwOnError&&r.add("error"),Object.keys(g(this,Y)).some(a=>{const l=a;return g(this,Y)[l]!==n[l]&&r.has(l)})};O(this,T,Ms).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&O(this,T,Sn).call(this)}},Z=new WeakMap,A=new WeakMap,It=new WeakMap,Y=new WeakMap,qe=new WeakMap,lt=new WeakMap,be=new WeakMap,De=new WeakMap,Lt=new WeakMap,ut=new WeakMap,ct=new WeakMap,Ne=new WeakMap,Qe=new WeakMap,Oe=new WeakMap,dt=new WeakMap,T=new WeakSet,mt=function(n){O(this,T,Rn).call(this);let t=g(this,A).fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(ie)),t},pn=function(){O(this,T,yn).call(this);const n=Te(this.options.staleTime,g(this,A));if(ht||g(this,Y).isStale||!cn(n))return;const s=Ss(g(this,Y).dataUpdatedAt,n)+1;_(this,Ne,setTimeout(()=>{g(this,Y).isStale||this.updateResult()},s))},mn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,A)):this.options.refetchInterval)??!1},vn=function(n){O(this,T,wn).call(this),_(this,Oe,n),!(ht||ue(this.options.enabled,g(this,A))===!1||!cn(g(this,Oe))||g(this,Oe)===0)&&_(this,Qe,setInterval(()=>{(this.options.refetchIntervalInBackground||Dn.isFocused())&&O(this,T,mt).call(this)},g(this,Oe)))},Sn=function(){O(this,T,pn).call(this),O(this,T,vn).call(this,O(this,T,mn).call(this))},yn=function(){g(this,Ne)&&(clearTimeout(g(this,Ne)),_(this,Ne,void 0))},wn=function(){g(this,Qe)&&(clearInterval(g(this,Qe)),_(this,Qe,void 0))},Rn=function(){const n=g(this,Z).getQueryCache().build(g(this,Z),this.options);if(n===g(this,A))return;const t=g(this,A);_(this,A,n),_(this,It,n.state),this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))},Ms=function(n){X.batch(()=>{n.listeners&&this.listeners.forEach(t=>{t(g(this,Y))}),g(this,Z).getQueryCache().notify({query:g(this,A),type:"observerResultsUpdated"})})},vs);function ui(e,n){return ue(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Wn(e,n){return ui(e,n)||e.state.data!==void 0&&Cn(e,n,n.refetchOnMount)}function Cn(e,n,t){if(ue(n.enabled,e)!==!1&&Te(n.staleTime,e)!=="static"){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&On(e,n)}return!1}function Xn(e,n,t,s){return(e!==n||ue(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&On(e,t)}function On(e,n){return ue(n.enabled,e)!==!1&&e.isStaleByTime(Te(n.staleTime,e))}function ci(e,n){return!dn(e.getCurrentResult(),n)}const Je=new WeakMap,Gt=new WeakMap,zt={current:[]};let Xt=!1,wt=0;const vt=new Set,Dt=new Map;function xs(e){const n=Array.from(e).sort((t,s)=>t instanceof Ye&&t.options.deps.includes(s)?1:s instanceof Ye&&s.options.deps.includes(t)?-1:0);for(const t of n){if(zt.current.includes(t))continue;zt.current.push(t),t.recompute();const s=Gt.get(t);if(s)for(const i of s){const o=Je.get(i);o&&xs(o)}}}function di(e){e.listeners.forEach(n=>n({prevVal:e.prevState,currentVal:e.state}))}function hi(e){e.listeners.forEach(n=>n({prevVal:e.prevState,currentVal:e.state}))}function Is(e){if(wt>0&&!Dt.has(e)&&Dt.set(e,e.prevState),vt.add(e),!(wt>0)&&!Xt)try{for(Xt=!0;vt.size>0;){const n=Array.from(vt);vt.clear();for(const t of n){const s=Dt.get(t)??t.prevState;t.prevState=s,di(t)}for(const t of n){const s=Je.get(t);s&&(zt.current.push(t),xs(s))}for(const t of n){const s=Je.get(t);if(s)for(const i of s)hi(i)}}}finally{Xt=!1,zt.current=[],Dt.clear()}}function Ke(e){wt++;try{e()}finally{if(wt--,wt===0){const n=Array.from(vt)[0];n&&Is(n)}}}function fi(e){return typeof e=="function"}class _n{constructor(n,t){this.listeners=new Set,this.subscribe=s=>{var i,o;this.listeners.add(s);const r=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,s,this);return()=>{this.listeners.delete(s),r==null||r()}},this.prevState=n,this.state=n,this.options=t}setState(n){var t,s,i;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(n):fi(n)?this.state=n(this.prevState):this.state=n,(i=(s=this.options)==null?void 0:s.onUpdate)==null||i.call(s),Is(this)}}class Ye{constructor(n){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],s=[];for(const i of this.options.deps)t.push(i.prevState),s.push(i.state);return this.lastSeenDepValues=s,{prevDepVals:t,currDepVals:s,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,s;this.prevState=this.state;const{prevDepVals:i,currDepVals:o,prevVal:r}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:o,prevVal:r}),(s=(t=this.options).onUpdate)==null||s.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof Ye&&o.checkIfRecalculationNeededDeeply();let t=!1;const s=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==s[o]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var s,i;this.listeners.add(t);const o=(i=(s=this.options).onSubscribe)==null?void 0:i.call(s,t,this);return()=>{this.listeners.delete(t),o==null||o()}},this.options=n,this.state=n.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(n=this.options.deps){for(const t of n)if(t instanceof Ye)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof _n){let s=Je.get(t);s||(s=new Set,Je.set(t,s)),s.add(this);let i=Gt.get(this);i||(i=new Set,Gt.set(this,i)),i.add(t)}}unregisterFromGraph(n=this.options.deps){for(const t of n)if(t instanceof Ye)this.unregisterFromGraph(t.options.deps);else if(t instanceof _n){const s=Je.get(t);s&&s.delete(this);const i=Gt.get(this);i&&i.delete(t)}}}const ke="__TSR_index",Jn="popstate",Yn="beforeunload";function Ls(e){let n=e.getLocation();const t=new Set,s=r=>{n=e.getLocation(),t.forEach(a=>a({location:n,action:r}))},i=r=>{e.notifyOnIndexChange??!0?s(r):n=e.getLocation()},o=async({task:r,navigateOpts:a,...l})=>{var c,u;if((a==null?void 0:a.ignoreBlocker)??!1){r();return}const f=((c=e.getBlockers)==null?void 0:c.call(e))??[],h=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&f.length&&h)for(const p of f){const m=Ft(l.path,l.state);if(await p.blockerFn({currentLocation:n,nextLocation:m,action:l.type})){(u=e.onBlocked)==null||u.call(e);return}}r()};return{get location(){return n},get length(){return e.getLength()},subscribers:t,subscribe:r=>(t.add(r),()=>{t.delete(r)}),push:(r,a,l)=>{const c=n.state[ke];a=Pn(c+1,a),o({task:()=>{e.pushState(r,a),s({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:r,state:a})},replace:(r,a,l)=>{const c=n.state[ke];a=Pn(c,a),o({task:()=>{e.replaceState(r,a),s({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:r,state:a})},go:(r,a)=>{o({task:()=>{e.go(r),i({type:"GO",index:r})},navigateOpts:a,type:"GO"})},back:r=>{o({task:()=>{e.back((r==null?void 0:r.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:r,type:"BACK"})},forward:r=>{o({task:()=>{e.forward((r==null?void 0:r.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:r,type:"FORWARD"})},canGoBack:()=>n.state[ke]!==0,createHref:r=>e.createHref(r),block:r=>{var a;if(!e.setBlockers)return()=>{};const l=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...l,r]),()=>{var c,u;const d=((c=e.getBlockers)==null?void 0:c.call(e))??[];(u=e.setBlockers)==null||u.call(e,d.filter(f=>f!==r))}},flush:()=>{var r;return(r=e.flush)==null?void 0:r.call(e)},destroy:()=>{var r;return(r=e.destroy)==null?void 0:r.call(e)},notify:s}}function Pn(e,n){return n||(n={}),{...n,key:An(),[ke]:e}}function gi(e){var n;const t=typeof document<"u"?window:void 0,s=t.history.pushState,i=t.history.replaceState;let o=[];const r=()=>o,a=y=>o=y,l=y=>y,c=()=>Ft(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);(n=t.history.state)!=null&&n.key||t.history.replaceState({[ke]:0,key:An()},"");let u=c(),d,f=!1,h=!1,p=!1,m=!1;const v=()=>u;let S,C;const w=()=>{S&&(b._ignoreSubscribers=!0,(S.isPush?t.history.pushState:t.history.replaceState)(S.state,"",S.href),b._ignoreSubscribers=!1,S=void 0,C=void 0,d=void 0)},V=(y,M,E)=>{const P=l(M);C||(d=u),u=Ft(M,E),S={href:P,state:E,isPush:(S==null?void 0:S.isPush)||y==="push"},C||(C=Promise.resolve().then(()=>w()))},$=y=>{u=c(),b.notify({type:y})},R=async()=>{if(h){h=!1;return}const y=c(),M=y.state[ke]-u.state[ke],E=M===1,P=M===-1,F=!E&&!P||f;f=!1;const U=F?"GO":P?"BACK":"FORWARD",k=F?{type:"GO",index:M}:{type:P?"BACK":"FORWARD"};if(p)p=!1;else{const H=r();if(typeof document<"u"&&H.length){for(const G of H)if(await G.blockerFn({currentLocation:u,nextLocation:y,action:U})){h=!0,t.history.go(1),b.notify(k);return}}}u=c(),b.notify(k)},D=y=>{if(m){m=!1;return}let M=!1;const E=r();if(typeof document<"u"&&E.length)for(const P of E){const F=P.enableBeforeUnload??!0;if(F===!0){M=!0;break}if(typeof F=="function"&&F()===!0){M=!0;break}}if(M)return y.preventDefault(),y.returnValue=""},b=Ls({getLocation:v,getLength:()=>t.history.length,pushState:(y,M)=>V("push",y,M),replaceState:(y,M)=>V("replace",y,M),back:y=>(y&&(p=!0),m=!0,t.history.back()),forward:y=>{y&&(p=!0),m=!0,t.history.forward()},go:y=>{f=!0,t.history.go(y)},createHref:y=>l(y),flush:w,destroy:()=>{t.history.pushState=s,t.history.replaceState=i,t.removeEventListener(Yn,D,{capture:!0}),t.removeEventListener(Jn,R)},onBlocked:()=>{d&&u!==d&&(u=d)},getBlockers:r,setBlockers:a,notifyOnIndexChange:!1});return t.addEventListener(Yn,D,{capture:!0}),t.addEventListener(Jn,R),t.history.pushState=function(...y){const M=s.apply(t.history,y);return b._ignoreSubscribers||$("PUSH"),M},t.history.replaceState=function(...y){const M=i.apply(t.history,y);return b._ignoreSubscribers||$("REPLACE"),M},b}function pi(e={initialEntries:["/"]}){const n=e.initialEntries;let t=e.initialIndex?Math.min(Math.max(e.initialIndex,0),n.length-1):n.length-1;const s=n.map((o,r)=>Pn(r,void 0));return Ls({getLocation:()=>Ft(n[t],s[t]),getLength:()=>n.length,pushState:(o,r)=>{t<n.length-1&&(n.splice(t+1),s.splice(t+1)),s.push(r),n.push(o),t=Math.max(n.length-1,0)},replaceState:(o,r)=>{s[t]=r,n[t]=o},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,n.length-1)},go:o=>{t=Math.min(Math.max(t+o,0),n.length-1)},createHref:o=>o})}function Ft(e,n){const t=e.indexOf("#"),s=e.indexOf("?");return{href:e,pathname:e.substring(0,t>0?s>0?Math.min(t,s):t:s>0?s:e.length),hash:t>-1?e.substring(t):"",search:s>-1?e.slice(s,t===-1?void 0:t):"",state:n||{[ke]:0,key:An()}}}function An(){return(Math.random()+1).toString(36).substring(7)}function Xe(e){return e[e.length-1]}function mi(e){return typeof e=="function"}function St(e,n){return mi(e)?e(n):e}function Zn(e,n){return n.reduce((t,s)=>(t[s]=e[s],t),{})}function re(e,n){if(e===n)return e;const t=n,s=ns(e)&&ns(t);if(s||es(e)&&es(t)){const i=s?e:Object.keys(e).concat(Object.getOwnPropertySymbols(e)),o=i.length,r=s?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),a=r.length,l=s?[]:{};let c=0;for(let u=0;u<a;u++){const d=s?u:r[u];(!s&&i.includes(d)||s)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=re(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return o===a&&c===o?e:l}return t}function es(e){return Fn(e)&&Object.getOwnPropertyNames(e).length===Object.keys(e).length}function Fn(e){if(!ts(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!ts(t)||!t.hasOwnProperty("isPrototypeOf"))}function ts(e){return Object.prototype.toString.call(e)==="[object Object]"}function ns(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ss(e,n){let t=Object.keys(e);return n&&(t=t.filter(s=>e[s]!==void 0)),t}function Rt(e,n,t){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(Fn(e)&&Fn(n)){const s=(t==null?void 0:t.ignoreUndefined)??!0,i=ss(e,s),o=ss(n,s);return!(t!=null&&t.partial)&&i.length!==o.length?!1:o.every(r=>Rt(e[r],n[r],t))}return Array.isArray(e)&&Array.isArray(n)?e.length!==n.length?!1:!e.some((s,i)=>!Rt(s,n[i],t)):!1}function gt(e){let n,t;const s=new Promise((i,o)=>{n=i,t=o});return s.status="pending",s.resolve=i=>{s.status="resolved",s.value=i,n(i),e==null||e(i)},s.reject=i=>{s.status="rejected",t(i)},s}function vi(e){return/%[0-9A-Fa-f]{2}/.test(e)}function Pe(e){return Nt(e.filter(n=>n!==void 0).join("/"))}function Nt(e){return e.replace(/\/{2,}/g,"/")}function Tn(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function yt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Si(e){return yt(Tn(e))}function is(e,n){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${n}/`?e.slice(0,-1):e}function bo(e,n,t){return is(e,t)===is(n,t)}function yi({basepath:e,base:n,to:t,trailingSlash:s="never",caseSensitive:i}){var o,r;n=Ut(e,n,i),t=Ut(e,t,i);let a=ft(n);const l=ft(t);a.length>1&&((o=Xe(a))==null?void 0:o.value)==="/"&&a.pop(),l.forEach((u,d)=>{u.value==="/"?d?d===l.length-1&&a.push(u):a=[u]:u.value===".."?a.pop():u.value==="."||a.push(u)}),a.length>1&&(((r=Xe(a))==null?void 0:r.value)==="/"?s==="never"&&a.pop():s==="always"&&a.push({type:"pathname",value:"/"}));const c=Pe([e,...a.map(u=>u.value)]);return Nt(c)}function ft(e){if(!e)return[];e=Nt(e);const n=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),n.push({type:"pathname",value:"/"})),!e)return n;const t=e.split("/").filter(Boolean);return n.push(...t.map(s=>s==="$"||s==="*"?{type:"wildcard",value:s}:s.charAt(0)==="$"?{type:"param",value:s}:{type:"pathname",value:s.includes("%25")?s.split("%25").map(i=>decodeURI(i)).join("%25"):decodeURI(s)})),e.slice(-1)==="/"&&(e=e.substring(1),n.push({type:"pathname",value:"/"})),n}function Ot({path:e,params:n,leaveWildcards:t,leaveParams:s,decodeCharMap:i}){const o=ft(e);function r(u){const d=n[u],f=typeof d=="string";return["*","_splat"].includes(u)?f?encodeURI(d):d:f?wi(d,i):d}let a=!1;const l={},c=Pe(o.map(u=>{if(u.type==="wildcard"){l._splat=n._splat;const d=r("_splat");return t?`${u.value}${d??""}`:d}if(u.type==="param"){const d=u.value.substring(1);if(!a&&!(d in n)&&(a=!0),l[d]=n[d],s){const f=r(u.value);return`${u.value}${f??""}`}return r(d)??"undefined"}return u.value}));return{usedParams:l,interpolatedPath:c,isMissingParams:a}}function wi(e,n){let t=encodeURIComponent(e);if(n)for(const[s,i]of n)t=t.replaceAll(s,i);return t}function At(e,n,t){const s=Ri(e,n,t);if(!(t.to&&!s))return s??{}}function Ut(e,n,t=!1){const s=t?e:e.toLowerCase(),i=t?n:n.toLowerCase();switch(!0){case s==="/":return n;case i===s:return"";case n.length<e.length:return n;case i[s.length]!=="/":return n;case i.startsWith(s):return n.slice(e.length);default:return n}}function Ri(e,n,t){if(e!=="/"&&!n.startsWith(e))return;n=Ut(e,n,t.caseSensitive);const s=Ut(e,`${t.to??"$"}`,t.caseSensitive),i=ft(n),o=ft(s);n.startsWith("/")||i.unshift({type:"pathname",value:"/"}),s.startsWith("/")||o.unshift({type:"pathname",value:"/"});const r={};return(()=>{for(let l=0;l<Math.max(i.length,o.length);l++){const c=i[l],u=o[l],d=l>=i.length-1,f=l>=o.length-1;if(u){if(u.type==="wildcard"){const h=decodeURI(Pe(i.slice(l).map(p=>p.value)));return r["*"]=h,r._splat=h,!0}if(u.type==="pathname"){if(u.value==="/"&&!(c!=null&&c.value))return!0;if(c){if(t.caseSensitive){if(u.value!==c.value)return!1}else if(u.value.toLowerCase()!==c.value.toLowerCase())return!1}}if(!c)return!1;if(u.type==="param"){if(c.value==="/")return!1;c.value.charAt(0)!=="$"&&(r[u.value.substring(1)]=decodeURIComponent(c.value))}}if(!d&&f)return r["**"]=Pe(i.slice(l+1).map(h=>h.value)),!!t.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?r:void 0}function Me(e){return!!(e!=null&&e.isNotFound)}function Ci(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Mn="tsr-scroll-restoration-v1_3",_i=(e,n)=>{let t;return(...s)=>{t||(t=setTimeout(()=>{e(...s),t=null},n))}};function Pi(){const e=Ci();if(!e)return;const n=e.getItem(Mn);let t=n?JSON.parse(n):{};return{state:t,set:s=>(t=St(s,t)||t,e.setItem(Mn,JSON.stringify(t)))}}const Jt=Pi(),Fi=e=>e.state.key||e.href;function Mi(e){const n=[];let t;for(;t=e.parentNode;)n.unshift(`${e.tagName}:nth-child(${[].indexOf.call(t.children,e)+1})`),e=t;return`${n.join(" > ")}`.toLowerCase()}let jt=!1;function xi(e,n,t,s,i){var o;let r;try{r=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(c){console.error(c);return}const a=n||((o=window.history.state)==null?void 0:o.key),l=r[a];jt=!0,(()=>{if(s&&l){for(const u in l){const d=l[u];if(u==="window")window.scrollTo({top:d.scrollY,left:d.scrollX,behavior:t});else if(u){const f=document.querySelector(u);f&&(f.scrollLeft=d.scrollX,f.scrollTop=d.scrollY)}}return}const c=window.location.hash.split("#")[1];if(c){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const d=document.getElementById(c);d&&d.scrollIntoView(u)}return}["window",...(i==null?void 0:i.filter(u=>u!=="window"))??[]].forEach(u=>{const d=u==="window"?window:document.querySelector(u);d&&d.scrollTo({top:0,left:0,behavior:t})})})(),jt=!1}function Ii(e,n){if(Jt===void 0||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup))return;e.isScrollRestorationSetup=!0,jt=!1;const s=e.options.getScrollRestorationKey||Fi;window.history.scrollRestoration="manual";const i=o=>{if(jt||!e.isScrollRestoring)return;let r="";if(o.target===document||o.target===window)r="window";else{const l=o.target.getAttribute("data-scroll-restoration-id");l?r=`[data-scroll-restoration-id="${l}"]`:r=Mi(o.target)}const a=s(e.state.location);Jt.set(l=>{const c=l[a]=l[a]||{},u=c[r]=c[r]||{};if(r==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(r){const d=document.querySelector(r);d&&(u.scrollX=d.scrollLeft||0,u.scrollY=d.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",_i(i,100),!0),e.subscribe("onRendered",o=>{const r=s(o.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}xi(Mn,r,e.options.scrollRestorationBehavior||void 0,e.isScrollRestoring||void 0,e.options.scrollToTopSelectors||void 0),e.isScrollRestoring&&Jt.set(a=>(a[r]=a[r]||{},a))})}function Do(e){if(typeof document<"u"&&document.querySelector){const n=e.state.location.state.__hashScrollIntoViewOptions??!0;if(n&&e.state.location.hash!==""){const t=document.getElementById(e.state.location.hash);t&&t.scrollIntoView(n)}}}function Li(e,n){const t=Object.entries(e).flatMap(([i,o])=>Array.isArray(o)?o.map(r=>[i,String(r)]):[[i,String(o)]]);return""+new URLSearchParams(t).toString()}function Yt(e){if(!e)return"";const n=vi(e)?decodeURIComponent(e):decodeURIComponent(encodeURIComponent(e));return n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n}function Ei(e,n){const t=e;return[...new URLSearchParams(t).entries()].reduce((o,[r,a])=>{const l=o[r];return l==null?o[r]=Yt(a):o[r]=Array.isArray(l)?[...l,Yt(a)]:[l,Yt(a)],o},{})}const $i=bi(JSON.parse),Vi=Di(JSON.stringify,JSON.parse);function bi(e){return n=>{n.substring(0,1)==="?"&&(n=n.substring(1));const t=Ei(n);for(const s in t){const i=t[s];if(typeof i=="string")try{t[s]=e(i)}catch{}}return t}}function Di(e,n){function t(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(typeof s=="string"&&typeof n=="function")try{return n(s),e(s)}catch{}return s}return s=>{s={...s},Object.keys(s).forEach(o=>{const r=s[o];typeof r>"u"||r===void 0?delete s[o]:s[o]=t(r)});const i=Li(s).toString();return i?`?${i}`:""}}const Re="__root__";function Oo(e){if(e.isRedirect=!0,e.statusCode=e.statusCode||e.code||307,e.headers=e.headers||{},!e.reloadDocument){e.reloadDocument=!1;try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}}if(e.throw)throw e;return e}function We(e){return!!(e!=null&&e.isRedirect)}function Zt(e){return!!(e!=null&&e.isRedirect)&&e.href}function en(e){const n=e.resolvedLocation,t=e.location,s=(n==null?void 0:n.pathname)!==t.pathname,i=(n==null?void 0:n.href)!==t.href,o=(n==null?void 0:n.hash)!==t.hash;return{fromLocation:n,toLocation:t,pathChanged:s,hrefChanged:i,hashChanged:o}}class Ao{constructor(n){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var s;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||t.basepath&&t.basepath!==i.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${Si(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?pi({initialEntries:[this.basepath||"/"]}):gi()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new _n(Ai(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),Ii(this)),typeof window<"u"&&"CSS"in window&&typeof((s=window.CSS)==null?void 0:s.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const t=this.options.notFoundRoute;t&&(t.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[t.id]=t);const s=r=>{r.forEach((a,l)=>{a.init({originalIndex:l,defaultSsr:this.options.defaultSsr});const c=this.routesById[a.id];if(Vt(!c,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const d=yt(a.fullPath);(!this.routesByPath[d]||a.fullPath.endsWith("/"))&&(this.routesByPath[d]=a)}const u=a.children;u!=null&&u.length&&s(u)})};s([this.routeTree]);const i=[];Object.values(this.routesById).forEach((r,a)=>{var l;if(r.isRoot||!r.path)return;const c=Tn(r.fullPath),u=ft(c);for(;u.length>1&&((l=u[0])==null?void 0:l.value)==="/";)u.shift();const d=u.map(f=>f.value==="/"?.75:f.type==="param"?.5:f.type==="wildcard"?.25:1);i.push({child:r,trimmed:c,parsed:u,index:a,scores:d})}),this.flatRoutes=i.sort((r,a)=>{const l=Math.min(r.scores.length,a.scores.length);for(let c=0;c<l;c++)if(r.scores[c]!==a.scores[c])return a.scores[c]-r.scores[c];if(r.scores.length!==a.scores.length)return a.scores.length-r.scores.length;for(let c=0;c<l;c++)if(r.parsed[c].value!==a.parsed[c].value)return r.parsed[c].value>a.parsed[c].value?1:-1;return r.index-a.index}).map((r,a)=>(r.child.rank=a,r.child))},this.subscribe=(t,s)=>{const i={eventType:t,fn:s};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=t=>{this.subscribers.forEach(s=>{s.eventType===t.type&&s.fn(t)})},this.parseLocation=(t,s)=>{const i=({pathname:l,search:c,hash:u,state:d})=>{const f=this.options.parseSearch(c),h=this.options.stringifySearch(f);return{pathname:l,searchStr:h,search:re(t==null?void 0:t.search,f),hash:u.split("#").reverse()[0]??"",href:`${l}${h}${u}`,state:re(t==null?void 0:t.state,d)}},o=i(s??this.history.location),{__tempLocation:r,__tempKey:a}=o.state;if(r&&(!a||a===this.tempLocationKey)){const l=i(r);return l.state.key=o.state.key,delete l.state.__tempLocation,{...l,maskedLocation:o}}return o},this.resolvePathWithBase=(t,s)=>yi({basepath:this.basepath,base:t,to:Nt(s),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,s,i)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:s},i):this.matchRoutesInternal(t,s),this.getMatchedRoutes=(t,s)=>{let i={};const o=yt(t.pathname),r=u=>At(this.basepath,o,{to:u.fullPath,caseSensitive:u.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(s==null?void 0:s.to)!==void 0?this.routesByPath[s.to]:void 0;a?i=r(a):a=this.flatRoutes.find(u=>{const d=r(u);return d?(i=d,!0):!1});let l=a||this.routesById[Re];const c=[l];for(;l.parentRoute;)l=l.parentRoute,c.unshift(l);return{matchedRoutes:c,routeParams:i,foundRoute:a}},this.cancelMatch=t=>{const s=this.getMatch(t);s&&(s.abortController.abort(),clearTimeout(s.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(s=>{this.cancelMatch(s.id)})},this.buildLocation=t=>{const s=(o={},r)=>{var a,l,c,u,d,f,h;const p=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,m=o.from!=null?p.find(P=>At(this.basepath,yt(P.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,v=(m==null?void 0:m.pathname)||this.latestLocation.pathname;Vt(o.from==null||m!=null,"Could not find match for from: "+o.from);const S=(a=this.state.pendingMatches)!=null&&a.length?(l=Xe(this.state.pendingMatches))==null?void 0:l.search:((c=Xe(p))==null?void 0:c.search)||this.latestLocation.search,C=r==null?void 0:r.matchedRoutes.filter(P=>p.find(F=>F.routeId===P.id));let w;if(o.to){const P=(m==null?void 0:m.fullPath)||((u=Xe(p))==null?void 0:u.fullPath)||this.latestLocation.pathname;w=this.resolvePathWithBase(P,`${o.to}`)}else{const P=this.routesById[(d=C==null?void 0:C.find(F=>{const U=Ot({path:F.fullPath,params:(r==null?void 0:r.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Pe([this.basepath,U])===v}))==null?void 0:d.id];w=this.resolvePathWithBase(v,(P==null?void 0:P.to)??v)}const V={...(f=Xe(p))==null?void 0:f.params};let $=(o.params??!0)===!0?V:{...V,...St(o.params,V)};Object.keys($).length>0&&(r==null||r.matchedRoutes.map(P=>{var F;return((F=P.options.params)==null?void 0:F.stringify)??P.options.stringifyParams}).filter(Boolean).forEach(P=>{$={...$,...P($)}})),w=Ot({path:w,params:$??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let R=S;if(t._includeValidateSearch&&((h=this.options.search)!=null&&h.strict)){let P={};r==null||r.matchedRoutes.forEach(F=>{try{F.options.validateSearch&&(P={...P,...tn(F.options.validateSearch,{...P,...R})??{}})}catch{}}),R=P}R=(P=>{const F=(r==null?void 0:r.matchedRoutes.reduce((H,G)=>{var te;const de=[];if("search"in G.options)(te=G.options.search)!=null&&te.middlewares&&de.push(...G.options.search.middlewares);else if(G.options.preSearchFilters||G.options.postSearchFilters){const ne=({search:ye,next:Fe})=>{let he=ye;"preSearchFilters"in G.options&&G.options.preSearchFilters&&(he=G.options.preSearchFilters.reduce((N,j)=>j(N),ye));const B=Fe(he);return"postSearchFilters"in G.options&&G.options.postSearchFilters?G.options.postSearchFilters.reduce((N,j)=>j(N),B):B};de.push(ne)}if(t._includeValidateSearch&&G.options.validateSearch){const ne=({search:ye,next:Fe})=>{const he=Fe(ye);try{return{...he,...tn(G.options.validateSearch,he)??{}}}catch{return he}};de.push(ne)}return H.concat(de)},[]))??[],U=({search:H})=>o.search?o.search===!0?H:St(o.search,H):{};F.push(U);const k=(H,G)=>{if(H>=F.length)return G;const te=F[H];return te({search:G,next:ne=>k(H+1,ne)})};return k(0,P)})(R),R=re(S,R);const b=this.options.stringifySearch(R),y=o.hash===!0?this.latestLocation.hash:o.hash?St(o.hash,this.latestLocation.hash):void 0,M=y?`#${y}`:"";let E=o.state===!0?this.latestLocation.state:o.state?St(o.state,this.latestLocation.state):{};return E=re(this.latestLocation.state,E),{pathname:w,search:R,searchStr:b,state:E,hash:y??"",href:`${w}${b}${M}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},r)=>{var a;const l=s(o);let c=r?s(r):void 0;if(!c){let f={};const h=(a=this.options.routeMasks)==null?void 0:a.find(p=>{const m=At(this.basepath,l.pathname,{to:p.from,caseSensitive:!1,fuzzy:!1});return m?(f=m,!0):!1});if(h){const{from:p,...m}=h;r={...Zn(t,["from"]),...m,params:f},c=s(r)}}const u=this.getMatchedRoutes(l,o),d=s(o,u);if(c){const f=this.getMatchedRoutes(c,r),h=s(r,f);d.maskedLocation=h}return d};return t.mask?i(t,{...Zn(t,["from"]),...t.mask}):i(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:s,...i})=>{const o=()=>{const l=["key","__TSR_index","__hashScrollIntoViewOptions"];l.forEach(u=>{i.state[u]=this.latestLocation.state[u]});const c=Rt(i.state,this.latestLocation.state);return l.forEach(u=>{delete i.state[u]}),c},r=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=gt(()=>{a==null||a.resolve()}),r&&o())this.load();else{let{maskedLocation:l,hashScrollIntoView:c,...u}=i;l&&(u={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[i.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:s})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:s,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:r,href:a,...l}={})=>{if(a){const u=this.history.location.state.__TSR_index,d=Ft(a,{__TSR_index:t?u:u+1});l.to=d.pathname,l.search=this.options.parseSearch(d.search),l.hash=d.hash.slice(1)}const c=this.buildLocation({...l,_includeValidateSearch:!0});return this.commitLocation({...c,viewTransition:o,replace:t,resetScroll:s,hashScrollIntoView:i,ignoreBlocker:r})},this.navigate=({to:t,reloadDocument:s,href:i,...o})=>{if(s){if(!i){const r=this.buildLocation({to:t,...o});i=this.history.createHref(r.href)}o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:t})},this.load=async t=>{this.latestLocation=this.parseLocation(this.latestLocation);let s,i,o;for(o=new Promise(r=>{this.startTransition(async()=>{var a;try{const l=this.latestLocation,c=this.state.resolvedLocation;this.cancelMatches();let u;Ke(()=>{u=this.matchRoutes(l),this.__store.setState(d=>({...d,status:"pending",isLoading:!0,location:l,pendingMatches:u,cachedMatches:d.cachedMatches.filter(f=>!u.find(h=>h.id===f.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...en({resolvedLocation:c,location:l})}),this.emit({type:"onBeforeLoad",...en({resolvedLocation:c,location:l})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:u,location:l,onReady:async()=>{this.startViewTransition(async()=>{let d,f,h;Ke(()=>{this.__store.setState(p=>{const m=p.matches,v=p.pendingMatches||p.matches;return d=m.filter(S=>!v.find(C=>C.id===S.id)),f=v.filter(S=>!m.find(C=>C.id===S.id)),h=m.filter(S=>v.find(C=>C.id===S.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:v,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...d.filter(S=>S.status!=="error")]}}),this.clearExpiredCache()}),[[d,"onLeave"],[f,"onEnter"],[h,"onStay"]].forEach(([p,m])=>{p.forEach(v=>{var S,C;(C=(S=this.looseRoutesById[v.routeId].options)[m])==null||C.call(S,v)})})})}})}catch(l){Zt(l)?(s=l,this.isServer||this.navigate({...s,replace:!0,ignoreBlocker:!0})):Me(l)&&(i=l),this.__store.setState(c=>({...c,statusCode:s?s.statusCode:i?404:c.matches.some(u=>u.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===o&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),r()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(r=>({...r,statusCode:404}))},this.startViewTransition=t=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const o=this.latestLocation,r=this.state.resolvedLocation,a=typeof s.types=="function"?s.types(en({resolvedLocation:r,location:o})):s.types;i={update:t,types:a}}else i=t;document.startViewTransition(i)}else t()},this.updateMatch=(t,s)=>{var i;let o;const r=(i=this.state.pendingMatches)==null?void 0:i.find(u=>u.id===t),a=this.state.matches.find(u=>u.id===t),l=this.state.cachedMatches.find(u=>u.id===t),c=r?"pendingMatches":a?"matches":l?"cachedMatches":"";return c&&this.__store.setState(u=>{var d;return{...u,[c]:(d=u[c])==null?void 0:d.map(f=>f.id===t?o=s(f):f)}}),o},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(s=>s.id===t),this.loadMatches=async({location:t,matches:s,preload:i,onReady:o,updateMatch:r=this.updateMatch,sync:a})=>{let l,c=!1;const u=async()=>{c||(c=!0,await(o==null?void 0:o()))},d=h=>!!(i&&!this.state.matches.find(p=>p.id===h)),f=(h,p)=>{var m,v,S,C;if(Zt(p)&&!p.reloadDocument)throw p;if(We(p)||Me(p)){if(r(h.id,w=>({...w,status:We(p)?"redirected":Me(p)?"notFound":"error",isFetching:!1,error:p,beforeLoadPromise:void 0,loaderPromise:void 0})),p.routeId||(p.routeId=h.routeId),(m=h.beforeLoadPromise)==null||m.resolve(),(v=h.loaderPromise)==null||v.resolve(),(S=h.loadPromise)==null||S.resolve(),We(p))throw c=!0,p=this.resolveRedirect({...p,_fromLocation:t}),p;if(Me(p))throw this._handleNotFound(s,p,{updateMatch:r}),(C=this.serverSsr)==null||C.onMatchSettled({router:this,match:this.getMatch(h.id)}),p}};try{await new Promise((h,p)=>{(async()=>{var m,v,S,C;try{const w=(R,D,b)=>{var y,M;const{id:E,routeId:P}=s[R],F=this.looseRoutesById[P];if(D instanceof Promise)throw D;D.routerCode=b,l=l??R,f(this.getMatch(E),D);try{(M=(y=F.options).onError)==null||M.call(y,D)}catch(U){D=U,f(this.getMatch(E),D)}r(E,U=>{var k,H;return(k=U.beforeLoadPromise)==null||k.resolve(),(H=U.loadPromise)==null||H.resolve(),{...U,error:D,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[R,{id:D,routeId:b}]of s.entries()){const y=this.getMatch(D),M=(m=s[R-1])==null?void 0:m.id,E=this.looseRoutesById[b],P=E.options.pendingMs??this.options.defaultPendingMs,F=!!(o&&!this.isServer&&!d(D)&&(E.options.loader||E.options.beforeLoad||os(E))&&typeof P=="number"&&P!==1/0&&(E.options.pendingComponent??((v=this.options)==null?void 0:v.defaultPendingComponent)));let U=!0;if((y.beforeLoadPromise||y.loaderPromise)&&(F&&setTimeout(()=>{try{u()}catch{}},P),await y.beforeLoadPromise,U=this.getMatch(D).status!=="success"),U){try{r(D,q=>{const fe=q.loadPromise;return{...q,loadPromise:gt(()=>{fe==null||fe.resolve()}),beforeLoadPromise:gt()}});const k=new AbortController;let H;F&&(H=setTimeout(()=>{try{u()}catch{}},P));const{paramsError:G,searchError:te}=this.getMatch(D);G&&w(R,G,"PARSE_PARAMS"),te&&w(R,te,"VALIDATE_SEARCH");const de=()=>M?this.getMatch(M).context:this.options.context??{};r(D,q=>({...q,isFetching:"beforeLoad",fetchCount:q.fetchCount+1,abortController:k,pendingTimeout:H,context:{...de(),...q.__routeContext}}));const{search:ne,params:ye,context:Fe,cause:he}=this.getMatch(D),B=d(D),N={search:ne,abortController:k,params:ye,preload:B,context:Fe,location:t,navigate:q=>this.navigate({...q,_fromLocation:t}),buildLocation:this.buildLocation,cause:B?"preload":he,matches:s},j=await((C=(S=E.options).beforeLoad)==null?void 0:C.call(S,N))??{};(We(j)||Me(j))&&w(R,j,"BEFORE_LOAD"),r(D,q=>({...q,__beforeLoadContext:j,context:{...de(),...q.__routeContext,...j},abortController:k}))}catch(k){w(R,k,"BEFORE_LOAD")}r(D,k=>{var H;return(H=k.beforeLoadPromise)==null||H.resolve(),{...k,beforeLoadPromise:void 0,isFetching:!1}})}}const V=s.slice(0,l),$=[];V.forEach(({id:R,routeId:D},b)=>{$.push((async()=>{const{loaderPromise:y}=this.getMatch(R);let M=!1,E=!1;if(y){await y;const P=this.getMatch(R);P.error&&f(P,P.error)}else{const P=$[b-1],F=this.looseRoutesById[D],U=()=>{const{params:B,loaderDeps:N,abortController:j,context:q,cause:fe}=this.getMatch(R),ge=d(R);return{params:B,deps:N,preload:!!ge,parentMatchPromise:P,abortController:j,context:q,location:t,navigate:Q=>this.navigate({...Q,_fromLocation:t}),cause:ge?"preload":fe,route:F}},k=Date.now()-this.getMatch(R).updatedAt,H=d(R),G=H?F.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:F.options.staleTime??this.options.defaultStaleTime??0,te=F.options.shouldReload,de=typeof te=="function"?te(U()):te;r(R,B=>({...B,loaderPromise:gt(),preload:!!H&&!this.state.matches.find(N=>N.id===R)}));const ne=()=>{var B,N,j,q,fe,ge;const Q=this.getMatch(R);if(!Q)return;const pe={matches:s,match:Q,params:Q.params,loaderData:Q.loaderData},oe=(N=(B=F.options).head)==null?void 0:N.call(B,pe),Bs=oe==null?void 0:oe.meta,zs=oe==null?void 0:oe.links,Us=oe==null?void 0:oe.scripts,js=(q=(j=F.options).scripts)==null?void 0:q.call(j,pe),qs=(ge=(fe=F.options).headers)==null?void 0:ge.call(fe,pe);r(R,Ns=>({...Ns,meta:Bs,links:zs,headScripts:Us,headers:qs,scripts:js}))},ye=async()=>{var B,N,j,q,fe;try{const ge=async()=>{const Q=this.getMatch(R);Q.minPendingPromise&&await Q.minPendingPromise};try{this.loadRouteChunk(F),r(R,pe=>({...pe,isFetching:"loader"}));const Q=await((N=(B=F.options).loader)==null?void 0:N.call(B,U()));f(this.getMatch(R),Q),await F._lazyPromise,await ge(),await F._componentsPromise,Ke(()=>{r(R,pe=>({...pe,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Q})),ne()})}catch(Q){let pe=Q;await ge(),f(this.getMatch(R),Q);try{(q=(j=F.options).onError)==null||q.call(j,Q)}catch(oe){pe=oe,f(this.getMatch(R),oe)}Ke(()=>{r(R,oe=>({...oe,error:pe,status:"error",isFetching:!1})),ne()})}(fe=this.serverSsr)==null||fe.onMatchSettled({router:this,match:this.getMatch(R)})}catch(ge){Ke(()=>{r(R,Q=>({...Q,loaderPromise:void 0})),ne()}),f(this.getMatch(R),ge)}},{status:Fe,invalid:he}=this.getMatch(R);M=Fe==="success"&&(he||(de??k>G)),H&&F.options.preload===!1||(M&&!a?(E=!0,(async()=>{try{await ye();const{loaderPromise:B,loadPromise:N}=this.getMatch(R);B==null||B.resolve(),N==null||N.resolve(),r(R,j=>({...j,loaderPromise:void 0}))}catch(B){Zt(B)&&await this.navigate(B)}})()):Fe!=="success"||M&&a?await ye():ne())}if(!E){const{loaderPromise:P,loadPromise:F}=this.getMatch(R);P==null||P.resolve(),F==null||F.resolve()}return r(R,P=>({...P,isFetching:E?P.isFetching:!1,loaderPromise:E?P.loaderPromise:void 0,invalid:!1})),this.getMatch(R)})())}),await Promise.all($),h()}catch(w){p(w)}})()}),await u()}catch(h){if(We(h)||Me(h))throw Me(h)&&!i&&await u(),h}return s},this.invalidate=t=>{const s=i=>{var o;return((o=t==null?void 0:t.filter)==null?void 0:o.call(t,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(s),cachedMatches:i.cachedMatches.map(s),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(s)}}),this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>{const s=t;return s.href||(s.href=this.buildLocation(s).href),s},this.clearCache=t=>{const s=t==null?void 0:t.filter;s!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!s(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=s=>{const i=this.looseRoutesById[s.routeId];if(!i.options.loader)return!0;const o=(s.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(s.status!=="error"&&Date.now()-s.updatedAt<o)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(s=>{const{id:i,...o}=s.options;Object.assign(t.options,o)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Es.map(async s=>{const i=t.options[s];i!=null&&i.preload&&await i.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const s=this.buildLocation(t);let i=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:t});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),r=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);Ke(()=>{i.forEach(a=>{r.has(a.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:s,preload:!0,updateMatch:(a,l)=>{o.has(a)?i=i.map(c=>c.id===a?l(c):c):this.updateMatch(a,l)}}),i}catch(a){if(We(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:s});Me(a)||console.error(a);return}},this.matchRoute=(t,s)=>{const i={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},o=this.buildLocation(i);if(s!=null&&s.pending&&this.state.status!=="pending")return!1;const a=((s==null?void 0:s.pending)===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=At(this.basepath,a.pathname,{...s,to:o.pathname});return!l||t.params&&!Rt(l,t.params,{partial:!0})?!1:l&&((s==null?void 0:s.includeSearch)??!0)?Rt(a.search,o.search,{partial:!0})?l:!1:l},this._handleNotFound=(t,s,{updateMatch:i=this.updateMatch}={})=>{var o;const r=this.routesById[s.routeId??""]??this.routeTree,a={};for(const c of t)a[c.routeId]=c;!r.options.notFoundComponent&&((o=this.options)!=null&&o.defaultNotFoundComponent)&&(r.options.notFoundComponent=this.options.defaultNotFoundComponent),Vt(r.options.notFoundComponent);const l=a[r.id];Vt(l,"Could not find match for route: "+r.id),i(l.id,c=>({...c,status:"notFound",error:s,isFetching:!1})),s.routerCode==="BEFORE_LOAD"&&r.parentRoute&&(s.routeId=r.parentRoute.id,this._handleNotFound(t,s,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...n,caseSensitive:n.caseSensitive??!1,notFoundMode:n.notFoundMode??"fuzzy",stringifySearch:n.stringifySearch??Vi,parseSearch:n.parseSearch??$i}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(n,t){const{foundRoute:s,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(n,t==null?void 0:t.dest);let r=!1;(s?s.path!=="/"&&o["**"]:yt(n.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):r=!0);const a=(()=>{if(r){if(this.options.notFoundMode!=="root")for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.children)return f.id}return Re}})(),l=i.map(d=>{var f;let h;const p=((f=d.options.params)==null?void 0:f.parse)??d.options.parseParams;if(p)try{const m=p(o);Object.assign(o,m)}catch(m){if(h=new Oi(m.message,{cause:m}),t!=null&&t.throwOnError)throw h;return h}}),c=[],u=d=>(d==null?void 0:d.id)?d.context??this.options.context??{}:this.options.context??{};return i.forEach((d,f)=>{var h,p;const m=c[f-1],[v,S,C]=(()=>{const F=(m==null?void 0:m.search)??n.search,U=(m==null?void 0:m._strictSearch)??{};try{const k=tn(d.options.validateSearch,{...F})??{};return[{...F,...k},{...U,...k},void 0]}catch(k){let H=k;if(k instanceof qt||(H=new qt(k.message,{cause:k})),t!=null&&t.throwOnError)throw H;return[F,{},H]}})(),w=((p=(h=d.options).loaderDeps)==null?void 0:p.call(h,{search:v}))??"",V=w?JSON.stringify(w):"",{usedParams:$,interpolatedPath:R}=Ot({path:d.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),D=Ot({path:d.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+V,b=this.getMatch(D),y=this.state.matches.find(F=>F.routeId===d.id),M=y?"stay":"enter";let E;if(b)E={...b,cause:M,params:y?re(y.params,o):o,_strictParams:$,search:re(y?y.search:b.search,v),_strictSearch:S};else{const F=d.options.loader||d.options.beforeLoad||d.lazyFn||os(d)?"pending":"success";E={id:D,index:f,routeId:d.id,params:y?re(y.params,o):o,_strictParams:$,pathname:Pe([this.basepath,R]),updatedAt:Date.now(),search:y?re(y.search,v):v,_strictSearch:S,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:l[f],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:y?re(y.loaderDeps,w):w,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:d.options.staticData||{},loadPromise:gt(),fullPath:d.fullPath}}t!=null&&t.preload||(E.globalNotFound=a===d.id),E.searchError=C;const P=u(m);E.context={...P,...E.__routeContext,...E.__beforeLoadContext},c.push(E)}),c.forEach((d,f)=>{var h,p;const m=this.looseRoutesById[d.routeId];if(!this.getMatch(d.id)&&(t==null?void 0:t._buildLocation)!==!0){const S=c[f-1],C=u(S),w={deps:d.loaderDeps,params:d.params,context:C,location:n,navigate:V=>this.navigate({...V,_fromLocation:n}),buildLocation:this.buildLocation,cause:d.cause,abortController:d.abortController,preload:!!d.preload,matches:c};d.__routeContext=((p=(h=m.options).context)==null?void 0:p.call(h,w))??{},d.context={...C,...d.__routeContext,...d.__beforeLoadContext}}}),c}}class qt extends Error{}class Oi extends Error{}function Ai(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function tn(e,n){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(n);if(t instanceof Promise)throw new qt("Async validation not supported");if(t.issues)throw new qt(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in e?e.parse(n):typeof e=="function"?e(n):{}}const Es=["component","errorComponent","pendingComponent","notFoundComponent"];function os(e){var n;for(const t of Es)if((n=e.options[t])!=null&&n.preload)return!0;return!1}const To="Error preloading route! ☝️";class Ti{constructor(n){if(this.init=t=>{var s,i;this.originalIndex=t.originalIndex;const o=this.options,r=!(o!=null&&o.path)&&!(o!=null&&o.id);if(this.parentRoute=(i=(s=this.options).getParentRoute)==null?void 0:i.call(s),r)this._path=Re;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=r?Re:o==null?void 0:o.path;a&&a!=="/"&&(a=Tn(a));const l=(o==null?void 0:o.id)||a;let c=r?Re:Pe([this.parentRoute.id===Re?"":this.parentRoute.id,l]);a===Re&&(a="/"),c!==Re&&(c=Pe(["/",c]));const u=c===Re?"/":Pe([this.parentRoute.fullPath,a]);this._path=a,this._id=c,this._fullPath=u,this._to=u,this._ssr=(o==null?void 0:o.ssr)??t.defaultSsr??!0},this.clone=t=>{this._path=t._path,this._id=t._id,this._fullPath=t._fullPath,this._to=t._to,this._ssr=t._ssr,this.options.getParentRoute=t.options.getParentRoute,this.children=t.children},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=n||{},this.isRoot=!(n!=null&&n.getParentRoute),n!=null&&n.id&&(n!=null&&n.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class ko extends Ti{constructor(n){super(n)}}const ki="modulepreload",Hi=function(e){return"/"+e},rs={},Ho=function(n,t,s){let i=Promise.resolve();if(t&&t.length>0){let r=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=r(t.map(c=>{if(c=Hi(c),c in rs)return;rs[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ki,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return i.then(r=>{for(const a of r||[])a.status==="rejected"&&o(a.reason);return n().catch(o)})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ae(e,n){return typeof e=="function"?e(n):e}function ee(e,n){return t=>{n.setState(s=>({...s,[e]:Ae(t,s[e])}))}}function Qt(e){return e instanceof Function}function Gi(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Bi(e,n){const t=[],s=i=>{i.forEach(o=>{t.push(o);const r=n(o);r!=null&&r.length&&s(r)})};return s(e),t}function x(e,n,t){let s=[],i;return o=>{let r;t.key&&t.debug&&(r=Date.now());const a=e(o);if(!(a.length!==s.length||a.some((u,d)=>s[d]!==u)))return i;s=a;let c;if(t.key&&t.debug&&(c=Date.now()),i=n(...a),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-r)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c⏱ ${h(d,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return i}}function I(e,n,t,s){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[n]},key:!1,onChange:s}}function zi(e,n,t,s){const i=()=>{var r;return(r=o.getValue())!=null?r:e.options.renderFallbackValue},o={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(s),renderValue:i,getContext:x(()=>[e,t,n,o],(r,a,l,c)=>({table:r,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),I(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(o,t,n,e)},{}),o}function Ui(e,n,t,s){var i,o;const a={...e._getDefaultColumnDef(),...n},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:u=f=>f[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:s,depth:t,columnDef:a,columns:[],getFlatColumns:x(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},I(e.options,"debugColumns")),getLeafColumns:x(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},I(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const K="debugHeaders";function as(e,n,t){var s;let o={id:(s=t.id)!=null?s:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),r.push(l)};return a(o),r},getContext:()=>({table:e,header:o,column:n})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(o,e)}),o}const ji={createTable:e=>{e.getHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>{var o,r;const a=(o=s==null?void 0:s.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(r=i==null?void 0:i.map(d=>t.find(f=>f.id===d)).filter(Boolean))!=null?r:[],c=t.filter(d=>!(s!=null&&s.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Tt(n,[...a,...c,...l],e)},I(e.options,K)),e.getCenterHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>(t=t.filter(o=>!(s!=null&&s.includes(o.id))&&!(i!=null&&i.includes(o.id))),Tt(n,t,e,"center")),I(e.options,K)),e.getLeftHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,s)=>{var i;const o=(i=s==null?void 0:s.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?i:[];return Tt(n,o,e,"left")},I(e.options,K)),e.getRightHeaderGroups=x(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,s)=>{var i;const o=(i=s==null?void 0:s.map(r=>t.find(a=>a.id===r)).filter(Boolean))!=null?i:[];return Tt(n,o,e,"right")},I(e.options,K)),e.getFooterGroups=x(()=>[e.getHeaderGroups()],n=>[...n].reverse(),I(e.options,K)),e.getLeftFooterGroups=x(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),I(e.options,K)),e.getCenterFooterGroups=x(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),I(e.options,K)),e.getRightFooterGroups=x(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),I(e.options,K)),e.getFlatHeaders=x(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),I(e.options,K)),e.getLeftFlatHeaders=x(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),I(e.options,K)),e.getCenterFlatHeaders=x(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),I(e.options,K)),e.getRightFlatHeaders=x(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),I(e.options,K)),e.getCenterLeafHeaders=x(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),I(e.options,K)),e.getLeftLeafHeaders=x(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),I(e.options,K)),e.getRightLeafHeaders=x(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),I(e.options,K)),e.getLeafHeaders=x(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,s)=>{var i,o,r,a,l,c;return[...(i=(o=n[0])==null?void 0:o.headers)!=null?i:[],...(r=(a=t[0])==null?void 0:a.headers)!=null?r:[],...(l=(c=s[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},I(e.options,K))}};function Tt(e,n,t,s){var i,o;let r=0;const a=function(f,h){h===void 0&&(h=1),r=Math.max(r,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const c=(f,h)=>{const p={depth:h,id:[s,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(v=>{const S=[...m].reverse()[0],C=v.column.depth===p.depth;let w,V=!1;if(C&&v.column.parent?w=v.column.parent:(w=v.column,V=!0),S&&(S==null?void 0:S.column)===w)S.subHeaders.push(v);else{const $=as(t,w,{id:[s,h,w.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:V,placeholderId:V?`${m.filter(R=>R.column===w).length}`:void 0,depth:h,index:m.length});$.subHeaders.push(v),m.push($)}p.headers.push(v),v.headerGroup=p}),l.push(p),h>0&&c(m,h-1)},u=n.map((f,h)=>as(t,f,{depth:r,index:h}));c(u,r-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,v=0,S=[0];p.subHeaders&&p.subHeaders.length?(S=[],d(p.subHeaders).forEach(w=>{let{colSpan:V,rowSpan:$}=w;m+=V,S.push($)})):m=1;const C=Math.min(...S);return v=v+C,p.colSpan=m,p.rowSpan=v,{colSpan:m,rowSpan:v}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const kn=(e,n,t,s,i,o,r)=>{let a={id:n,index:s,original:t,depth:i,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,s),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,s),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Bi(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:x(()=>[e.getAllLeafColumns()],l=>l.map(c=>zi(e,a,c,c.id)),I(e.options,"debugRows")),_getAllCellsByColumnId:x(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),I(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},qi={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$s=(e,n,t)=>{var s,i;const o=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((i=e.getValue(n))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};$s.autoRemove=e=>ce(e);const Vs=(e,n,t)=>{var s;return!!(!((s=e.getValue(n))==null||(s=s.toString())==null)&&s.includes(t))};Vs.autoRemove=e=>ce(e);const bs=(e,n,t)=>{var s;return((s=e.getValue(n))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(t==null?void 0:t.toLowerCase())};bs.autoRemove=e=>ce(e);const Ds=(e,n,t)=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(t)};Ds.autoRemove=e=>ce(e);const Os=(e,n,t)=>!t.some(s=>{var i;return!((i=e.getValue(n))!=null&&i.includes(s))});Os.autoRemove=e=>ce(e)||!(e!=null&&e.length);const As=(e,n,t)=>t.some(s=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(s)});As.autoRemove=e=>ce(e)||!(e!=null&&e.length);const Ts=(e,n,t)=>e.getValue(n)===t;Ts.autoRemove=e=>ce(e);const ks=(e,n,t)=>e.getValue(n)==t;ks.autoRemove=e=>ce(e);const Hn=(e,n,t)=>{let[s,i]=t;const o=e.getValue(n);return o>=s&&o<=i};Hn.resolveFilterValue=e=>{let[n,t]=e,s=typeof n!="number"?parseFloat(n):n,i=typeof t!="number"?parseFloat(t):t,o=n===null||Number.isNaN(s)?-1/0:s,r=t===null||Number.isNaN(i)?1/0:i;if(o>r){const a=o;o=r,r=a}return[o,r]};Hn.autoRemove=e=>ce(e)||ce(e[0])&&ce(e[1]);const Ce={includesString:$s,includesStringSensitive:Vs,equalsString:bs,arrIncludes:Ds,arrIncludesAll:Os,arrIncludesSome:As,equals:Ts,weakEquals:ks,inNumberRange:Hn};function ce(e){return e==null||e===""}const Ni={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ee("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);return typeof s=="string"?Ce.includesString:typeof s=="number"?Ce.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Ce.equals:Array.isArray(s)?Ce.arrIncludes:Ce.weakEquals},e.getFilterFn=()=>{var t,s;return Qt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(s=n.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?t:Ce[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,s,i;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((s=n.options.enableColumnFilters)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(s=>s.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,s;return(t=(s=n.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(s=>{const i=e.getFilterFn(),o=s==null?void 0:s.find(u=>u.id===e.id),r=Ae(t,o?o.value:void 0);if(ls(i,r,e)){var a;return(a=s==null?void 0:s.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:r};if(o){var c;return(c=s==null?void 0:s.map(u=>u.id===e.id?l:u))!=null?c:[]}return s!=null&&s.length?[...s,l]:[l]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),s=i=>{var o;return(o=Ae(n,i))==null?void 0:o.filter(r=>{const a=t.find(l=>l.id===r.id);if(a){const l=a.getFilterFn();if(ls(l,r.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=n=>{var t,s;e.setColumnFilters(n?[]:(t=(s=e.initialState)==null?void 0:s.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ls(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Qi=(e,n,t)=>t.reduce((s,i)=>{const o=i.getValue(e);return s+(typeof o=="number"?o:0)},0),Ki=(e,n,t)=>{let s;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(s>o||s===void 0&&o>=o)&&(s=o)}),s},Wi=(e,n,t)=>{let s;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(s<o||s===void 0&&o>=o)&&(s=o)}),s},Xi=(e,n,t)=>{let s,i;return t.forEach(o=>{const r=o.getValue(e);r!=null&&(s===void 0?r>=r&&(s=i=r):(s>r&&(s=r),i<r&&(i=r)))}),[s,i]},Ji=(e,n)=>{let t=0,s=0;if(n.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++t,s+=o)}),t)return s/t},Yi=(e,n)=>{if(!n.length)return;const t=n.map(o=>o.getValue(e));if(!Gi(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),i=t.sort((o,r)=>o-r);return t.length%2!==0?i[s]:(i[s-1]+i[s])/2},Zi=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),eo=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,to=(e,n)=>n.length,nn={sum:Qi,min:Ki,max:Wi,extent:Xi,mean:Ji,median:Yi,unique:Zi,uniqueCount:eo,count:to},no={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ee("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(s=>s!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,s;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((s=n.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t==null?void 0:t.getValue(e.id);if(typeof s=="number")return nn.sum;if(Object.prototype.toString.call(s)==="[object Date]")return nn.extent},e.getAggregationFn=()=>{var t,s;if(!e)throw new Error;return Qt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(s=n.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?t:nn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,s;e.setGrouping(n?[]:(t=(s=e.initialState)==null?void 0:s.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const s=n.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[t]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,s)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function so(e,n,t){if(!(n!=null&&n.length)||!t)return e;const s=e.filter(o=>!n.includes(o.id));return t==="remove"?s:[...n.map(o=>e.find(r=>r.id===o)).filter(Boolean),...s]}const io={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ee("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=x(t=>[Ct(n,t)],t=>t.findIndex(s=>s.id===e.id),I(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var s;return((s=Ct(n,t)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=t=>{var s;const i=Ct(n,t);return((s=i[i.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=x(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,s)=>i=>{let o=[];if(!(n!=null&&n.length))o=i;else{const r=[...n],a=[...i];for(;a.length&&r.length;){const l=r.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return so(o,t,s)},I(e.options,"debugTable"))}},sn=()=>({left:[],right:[]}),oo={getInitialState:e=>({columnPinning:sn(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ee("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const s=e.getLeafColumns().map(i=>i.id).filter(Boolean);n.setColumnPinning(i=>{var o,r;if(t==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(s!=null&&s.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(s!=null&&s.includes(d))),...s]}}if(t==="left"){var c,u;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(d=>!(s!=null&&s.includes(d))),...s],right:((u=i==null?void 0:i.right)!=null?u:[]).filter(d=>!(s!=null&&s.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(s!=null&&s.includes(d))),right:((r=i==null?void 0:i.right)!=null?r:[]).filter(d=>!(s!=null&&s.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var i,o,r;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((o=(r=n.options.enableColumnPinning)!=null?r:n.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:s,right:i}=n.getState().columnPinning,o=t.some(a=>s==null?void 0:s.includes(a)),r=t.some(a=>i==null?void 0:i.includes(a));return o?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();return i?(t=(s=n.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,s,i)=>{const o=[...s??[],...i??[]];return t.filter(r=>!o.includes(r.column.id))},I(n.options,"debugRows")),e.getLeftVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,s)=>(s??[]).map(o=>t.find(r=>r.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),I(n.options,"debugRows")),e.getRightVisibleCells=x(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,s)=>(s??[]).map(o=>t.find(r=>r.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),I(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,s;return e.setColumnPinning(n?sn():(t=(s=e.initialState)==null?void 0:s.columnPinning)!=null?t:sn())},e.getIsSomeColumnsPinned=n=>{var t;const s=e.getState().columnPinning;if(!n){var i,o;return!!((i=s.left)!=null&&i.length||(o=s.right)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e.getLeftLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),I(e.options,"debugColumns")),e.getRightLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),I(e.options,"debugColumns")),e.getCenterLeafColumns=x(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s)=>{const i=[...t??[],...s??[]];return n.filter(o=>!i.includes(o.id))},I(e.options,"debugColumns"))}};function ro(e){return e||(typeof document<"u"?document:null)}const kt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},on=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ao={getDefaultColumnDef:()=>kt,getInitialState:e=>({columnSizing:{},columnSizingInfo:on(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ee("columnSizing",e),onColumnSizingInfoChange:ee("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,s,i;const o=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:kt.minSize,(s=o??e.columnDef.size)!=null?s:kt.size),(i=e.columnDef.maxSize)!=null?i:kt.maxSize)},e.getStart=x(t=>[t,Ct(n,t),n.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((i,o)=>i+o.getSize(),0),I(n.options,"debugColumns")),e.getAfter=x(t=>[t,Ct(n,t),n.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((i,o)=>i+o.getSize(),0),I(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:s,...i}=t;return i})},e.getCanResize=()=>{var t,s;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((s=n.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var o;t+=(o=i.column.getSize())!=null?o:0}};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const s=n.getColumn(e.column.id),i=s==null?void 0:s.getCanResize();return o=>{if(!s||!i||(o.persist==null||o.persist(),rn(o)&&o.touches&&o.touches.length>1))return;const r=e.getSize(),a=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[s.id,s.getSize()]],l=rn(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(S,C)=>{typeof C=="number"&&(n.setColumnSizingInfo(w=>{var V,$;const R=n.options.columnResizeDirection==="rtl"?-1:1,D=(C-((V=w==null?void 0:w.startOffset)!=null?V:0))*R,b=Math.max(D/(($=w==null?void 0:w.startSize)!=null?$:0),-.999999);return w.columnSizingStart.forEach(y=>{let[M,E]=y;c[M]=Math.round(Math.max(E+E*b,0)*100)/100}),{...w,deltaOffset:D,deltaPercentage:b}}),(n.options.columnResizeMode==="onChange"||S==="end")&&n.setColumnSizing(w=>({...w,...c})))},d=S=>u("move",S),f=S=>{u("end",S),n.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=ro(t),p={moveHandler:S=>d(S.clientX),upHandler:S=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),f(S.clientX)}},m={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),d(S.touches[0].clientX),!1),upHandler:S=>{var C;h==null||h.removeEventListener("touchmove",m.moveHandler),h==null||h.removeEventListener("touchend",m.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),f((C=S.touches[0])==null?void 0:C.clientX)}},v=lo()?{passive:!1}:!1;rn(o)?(h==null||h.addEventListener("touchmove",m.moveHandler,v),h==null||h.addEventListener("touchend",m.upHandler,v)):(h==null||h.addEventListener("mousemove",p.moveHandler,v),h==null||h.addEventListener("mouseup",p.upHandler,v)),n.setColumnSizingInfo(S=>({...S,startOffset:l,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?on():(t=e.initialState.columnSizingInfo)!=null?t:on())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0}}};let Ht=null;function lo(){if(typeof Ht=="boolean")return Ht;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return Ht=e,Ht}function rn(e){return e.type==="touchstart"}const uo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ee("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(s=>({...s,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,s;const i=e.columns;return(t=i.length?i.some(o=>o.getIsVisible()):(s=n.getState().columnVisibility)==null?void 0:s[e.id])!=null?t:!0},e.getCanHide=()=>{var t,s;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((s=n.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=x(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),I(n.options,"debugRows")),e.getVisibleCells=x(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,s,i)=>[...t,...s,...i],I(n.options,"debugRows"))},createTable:e=>{const n=(t,s)=>x(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),I(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:t||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function Ct(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const co={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ho={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ee("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const s=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,s,i,o;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=n.options.enableGlobalFilter)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&((o=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Ce.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:s}=e.options;return Qt(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[s])!=null?n:Ce[s]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},fo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ee("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var i,o;e.setExpanded(s?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const r=o.split(".");s=Math.max(s,r.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(s=>{var i;const o=s===!0?!0:!!(s!=null&&s[e.id]);let r={};if(s===!0?Object.keys(n.getRowModel().rowsById).forEach(a=>{r[a]=!0}):r=s,t=(i=t)!=null?i:!o,!o&&t)return{...r,[e.id]:!0};if(o&&!t){const{[e.id]:a,...l}=r;return l}return s})},e.getIsExpanded=()=>{var t;const s=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:s===!0||s!=null&&s[e.id])},e.getCanExpand=()=>{var t,s,i;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((s=n.options.enableExpanding)!=null?s:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let t=!0,s=e;for(;t&&s.parentId;)s=n.getRow(s.parentId,!0),t=s.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},xn=0,In=10,an=()=>({pageIndex:xn,pageSize:In}),go={getInitialState:e=>({...e,pagination:{...an(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ee("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=s=>{const i=o=>Ae(s,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=s=>{var i;e.setPagination(s?an():(i=e.initialState.pagination)!=null?i:an())},e.setPageIndex=s=>{e.setPagination(i=>{let o=Ae(s,i.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,r)),{...i,pageIndex:o}})},e.resetPageIndex=s=>{var i,o;e.setPageIndex(s?xn:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:xn)},e.resetPageSize=s=>{var i,o;e.setPageSize(s?In:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:In)},e.setPageSize=s=>{e.setPagination(i=>{const o=Math.max(1,Ae(s,i.pageSize)),r=i.pageSize*i.pageIndex,a=Math.floor(r/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=s=>e.setPagination(i=>{var o;let r=Ae(s,(o=e.options.pageCount)!=null?o:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...i,pageCount:r}}),e.getPageOptions=x(()=>[e.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((o,r)=>r)),i},I(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:s<i-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},ln=()=>({top:[],bottom:[]}),po={getInitialState:e=>({rowPinning:ln(),...e}),getDefaultOptions:e=>({onRowPinningChange:ee("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,s,i)=>{const o=s?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],r=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...r,e.id,...o]);n.setRowPinning(l=>{var c,u;if(t==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(t==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:i}=n.options;return typeof s=="function"?s(e):(t=s??i)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:s,bottom:i}=n.getState().rowPinning,o=t.some(a=>s==null?void 0:s.includes(a)),r=t.some(a=>i==null?void 0:i.includes(a));return o?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();if(!i)return-1;const o=(t=i==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(r=>{let{id:a}=r;return a});return(s=o==null?void 0:o.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,s;return e.setRowPinning(n?ln():(t=(s=e.initialState)==null?void 0:s.rowPinning)!=null?t:ln())},e.getIsSomeRowsPinned=n=>{var t;const s=e.getState().rowPinning;if(!n){var i,o;return!!((i=s.top)!=null&&i.length||(o=s.bottom)!=null&&o.length)}return!!((t=s[n])!=null&&t.length)},e._getPinnedRows=(n,t,s)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(t??[]).map(r=>{const a=e.getRow(r,!0);return a.getIsAllParentsExpanded()?a:null}):(t??[]).map(r=>n.find(a=>a.id===r))).filter(Boolean).map(r=>({...r,position:s}))},e.getTopRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),I(e.options,"debugRows")),e.getBottomRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),I(e.options,"debugRows")),e.getCenterRows=x(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,s)=>{const i=new Set([...t??[],...s??[]]);return n.filter(o=>!i.has(o.id))},I(e.options,"debugRows"))}},mo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ee("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const s={...t},i=e.getPreGroupedRowModel().flatRows;return n?i.forEach(o=>{o.getCanSelect()&&(s[o.id]=!0)}):i.forEach(o=>{delete s[o.id]}),s})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const s=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),i={...t};return e.getRowModel().rows.forEach(o=>{Ln(i,o.id,s,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=x(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?un(e,t):{rows:[],flatRows:[],rowsById:{}},I(e.options,"debugTable")),e.getFilteredSelectedRowModel=x(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?un(e,t):{rows:[],flatRows:[],rowsById:{}},I(e.options,"debugTable")),e.getGroupedSelectedRowModel=x(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?un(e,t):{rows:[],flatRows:[],rowsById:{}},I(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let s=!!(n.length&&Object.keys(t).length);return s&&n.some(i=>i.getCanSelect()&&!t[i.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=e.getState();let s=!!n.length;return s&&n.some(i=>!t[i.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,s)=>{const i=e.getIsSelected();n.setRowSelection(o=>{var r;if(t=typeof t<"u"?t:!i,e.getCanSelect()&&i===t)return o;const a={...o};return Ln(a,e.id,t,(r=s==null?void 0:s.selectChildren)!=null?r:!0,n),a})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Gn(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return En(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return En(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var i;t&&e.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},Ln=(e,n,t,s,i)=>{var o;const r=i.getRow(n,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),r.getCanSelect()&&(e[n]=!0)):delete e[n],s&&(o=r.subRows)!=null&&o.length&&r.getCanSelectSubRows()&&r.subRows.forEach(a=>Ln(e,a.id,t,s,i))};function un(e,n){const t=e.getState().rowSelection,s=[],i={},o=function(r,a){return r.map(l=>{var c;const u=Gn(l,t);if(u&&(s.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(n.rows),flatRows:s,rowsById:i}}function Gn(e,n){var t;return(t=n[e.id])!=null?t:!1}function En(e,n,t){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let i=!0,o=!1;return e.subRows.forEach(r=>{if(!(o&&!i)&&(r.getCanSelect()&&(Gn(r,n)?o=!0:i=!1),r.subRows&&r.subRows.length)){const a=En(r,n);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const $n=/([0-9]+)/gm,vo=(e,n,t)=>Hs(He(e.getValue(t)).toLowerCase(),He(n.getValue(t)).toLowerCase()),So=(e,n,t)=>Hs(He(e.getValue(t)),He(n.getValue(t))),yo=(e,n,t)=>Bn(He(e.getValue(t)).toLowerCase(),He(n.getValue(t)).toLowerCase()),wo=(e,n,t)=>Bn(He(e.getValue(t)),He(n.getValue(t))),Ro=(e,n,t)=>{const s=e.getValue(t),i=n.getValue(t);return s>i?1:s<i?-1:0},Co=(e,n,t)=>Bn(e.getValue(t),n.getValue(t));function Bn(e,n){return e===n?0:e>n?1:-1}function He(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Hs(e,n){const t=e.split($n).filter(Boolean),s=n.split($n).filter(Boolean);for(;t.length&&s.length;){const i=t.shift(),o=s.shift(),r=parseInt(i,10),a=parseInt(o,10),l=[r,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(r)?-1:1;if(r>a)return 1;if(a>r)return-1}return t.length-s.length}const pt={alphanumeric:vo,alphanumericCaseSensitive:So,text:yo,textCaseSensitive:wo,datetime:Ro,basic:Co},_o={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ee("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of t){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return pt.datetime;if(typeof o=="string"&&(s=!0,o.split($n).length>1))return pt.alphanumeric}return s?pt.text:pt.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,s;if(!e)throw new Error;return Qt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(s=n.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?t:pt[e.columnDef.sortingFn]},e.toggleSorting=(t,s)=>{const i=e.getNextSortingOrder(),o=typeof t<"u"&&t!==null;n.setSorting(r=>{const a=r==null?void 0:r.find(h=>h.id===e.id),l=r==null?void 0:r.findIndex(h=>h.id===e.id);let c=[],u,d=o?t:i==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&s?a?u="toggle":u="add":r!=null&&r.length&&l!==r.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var f;c=[...r,{id:e.id,desc:d}],c.splice(0,c.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=r.map(h=>h.id===e.id?{...h,desc:d}:h):u==="remove"?c=r.filter(h=>h.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var t,s;return((t=(s=e.columnDef.sortDescFirst)!=null?s:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var s,i;const o=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==o&&((s=n.options.enableSortingRemoval)==null||s)&&(!(t&&(i=n.options.enableMultiRemove)!=null)||i)?!1:r==="desc"?"asc":"desc":o},e.getCanSort=()=>{var t,s;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((s=n.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,s;return(t=(s=e.columnDef.enableMultiSort)!=null?s:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const s=(t=n.getState().sorting)==null?void 0:t.find(i=>i.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,s;return(t=(s=n.getState().sorting)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return s=>{t&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,s;e.setSorting(n?[]:(t=(s=e.initialState)==null?void 0:s.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Po=[ji,uo,io,oo,qi,Ni,co,ho,_o,no,fo,go,po,mo,ao];function Go(e){var n,t;const s=[...Po,...(n=e._features)!=null?n:[]];let i={_features:s};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),r=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(t=e.initialState)!=null?t:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const c=[];let u=!1;const d={_features:s,options:{...o,...e},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=Ae(f,i.options);i.options=r(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:x(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,v;return(m=(v=p.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},I(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:x(()=>[i._getColumnDefs()],f=>{const h=function(p,m,v){return v===void 0&&(v=0),p.map(S=>{const C=Ui(i,S,v,m),w=S;return C.columns=w.columns?h(w.columns,C,v+1):[],C})};return h(f)},I(e,"debugColumns")),getAllFlatColumns:x(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),I(e,"debugColumns")),_getAllFlatColumnsById:x(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),I(e,"debugColumns")),getAllLeafColumns:x(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},I(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function Bo(){return e=>x(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(i,o,r){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=kn(e,e._getRowId(i[c],c,r),i[c],c,o,void 0,r==null?void 0:r.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=s(u.originalSubRows,o+1,u))}}return a};return t.rows=s(n),t},I(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Fo(e){const n=[],t=s=>{var i;n.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function Gs(e,n,t){return t.options.filterFromLeafRows?Mo(e,n,t):xo(e,n,t)}function Mo(e,n,t){var s;const i=[],o={},r=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=kn(t,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&c<r){if(p.subRows=a(h.subRows,c+1),h=p,n(h)&&!p.subRows.length){u.push(h),o[h.id]=h,i.push(h);continue}if(n(h)||p.subRows.length){u.push(h),o[h.id]=h,i.push(h);continue}}else h=p,n(h)&&(u.push(h),o[h.id]=h,i.push(h))}return u};return{rows:a(e),flatRows:i,rowsById:o}}function xo(e,n,t){var s;const i=[],o={},r=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let h=l[f];if(n(h)){var d;if((d=h.subRows)!=null&&d.length&&c<r){const m=kn(t,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,c+1),h=m}u.push(h),i.push(h),o[h.id]=h}}return u};return{rows:a(e),flatRows:i,rowsById:o}}function zo(){return(e,n)=>x(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(t,s,i)=>{if(!t.rows.length||!(s!=null&&s.length)&&!i)return t;const o=[...s.map(a=>a.id).filter(a=>a!==n),i?"__global__":void 0].filter(Boolean),r=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return Gs(t.rows,r,e)},I(e.options,"debugTable"))}function Uo(){return(e,n)=>x(()=>{var t;return[(t=e.getColumn(n))==null?void 0:t.getFacetedRowModel()]},t=>{if(!t)return new Map;let s=new Map;for(let o=0;o<t.flatRows.length;o++){const r=t.flatRows[o].getUniqueValues(n);for(let a=0;a<r.length;a++){const l=r[a];if(s.has(l)){var i;s.set(l,((i=s.get(l))!=null?i:0)+1)}else s.set(l,1)}}return s},I(e.options,"debugTable"))}function jo(){return e=>x(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,s)=>{if(!n.rows.length||!(t!=null&&t.length)&&!s){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const i=[],o=[];(t??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const r=(t??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());s&&a&&l.length&&(r.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(s))!=null?h:s})}));let c,u;for(let f=0;f<n.flatRows.length;f++){const h=n.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){c=i[p];const m=c.id;h.columnFilters[m]=c.filterFn(h,m,c.resolvedValue,v=>{h.columnFiltersMeta[m]=v})}if(o.length){for(let p=0;p<o.length;p++){u=o[p];const m=u.id;if(u.filterFn(h,m,u.resolvedValue,v=>{h.columnFiltersMeta[m]=v})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<r.length;h++)if(f.columnFilters[r[h]]===!1)return!1;return!0};return Gs(n.rows,d,e)},I(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function qo(e){return n=>x(()=>[n.getState().pagination,n.getPrePaginationRowModel(),n.options.paginateExpandedRows?void 0:n.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:i,pageIndex:o}=t;let{rows:r,flatRows:a,rowsById:l}=s;const c=i*o,u=c+i;r=r.slice(c,u);let d;n.options.paginateExpandedRows?d={rows:r,flatRows:a,rowsById:l}:d=Fo({rows:r,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},I(n.options,"debugTable"))}function No(){return e=>x(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const s=e.getState().sorting,i=[],o=s.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),r={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(r[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let h=0;h<o.length;h+=1){var f;const p=o[h],m=r[p.id],v=m.sortUndefined,S=(f=p==null?void 0:p.desc)!=null?f:!1;let C=0;if(v){const w=u.getValue(p.id),V=d.getValue(p.id),$=w===void 0,R=V===void 0;if($||R){if(v==="first")return $?-1:1;if(v==="last")return $?1:-1;C=$&&R?0:$?v:-v}}if(C===0&&(C=m.sortingFn(u,d,p.id)),C!==0)return S&&(C*=-1),m.invertSorting&&(C*=-1),C}return u.index-d.index}),c.forEach(u=>{var d;i.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(t.rows),flatRows:i,rowsById:t.rowsById}},I(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}export{jo as A,ko as B,No as C,qo as D,Bo as E,Uo as F,zo as G,Vo as Q,Ao as R,Ho as _,ie as a,Me as b,xi as c,Fi as d,Mn as e,Re as f,en as g,Do as h,ht as i,We as j,gt as k,To as l,St as m,X as n,bo as o,Zn as p,is as q,re as r,Eo as s,yt as t,Rt as u,Ti as v,Go as w,$o as x,ii as y,Oo as z};
